{"version":3,"names":["i18nCapitalize","text","locale","toLocaleUpperCase","substring","getWeekInfo","cacheOrUpdate","intlLocale","Intl","Locale","weekInfo","getFirstDayOfWeek","firstDay","i18nRelativeTimeFormatter","RelativeTimeFormat","numeric","i18nRelativeTime","value","unit","format","getTimeZoneNameFromOffset","timezone","formattedTimeZone","DateTimeFormat","timeZone","timeZoneName","Date","split","slice","join"],"sources":["src/utils/i18n/utils.ts","src/utils/i18n/date.ts"],"sourcesContent":["export function i18nCapitalize(text: string, locale = 'en-US') {\n  if (!text) {\n    return text;\n  }\n  // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n  return text[0].toLocaleUpperCase(locale) + text.substring(1);\n}\n","import { cacheOrUpdate } from '@src/utils/cache';\nimport { i18nCapitalize } from './utils';\n\ninterface WeekInfo {\n  firstDay: 1 | 2 | 3 | 4 | 5 | 6 | 7;\n  weekend: number[];\n  minimalDays: number;\n}\n\ninterface IntlLocaleNext extends Intl.Locale {\n  getWeekInfo?: () => WeekInfo;\n  weekInfo?: WeekInfo;\n}\n\nconst getWeekInfo = cacheOrUpdate('en-US', (locale): WeekInfo => {\n  const intlLocale: IntlLocaleNext = new Intl.Locale(locale);\n  // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n  return intlLocale.getWeekInfo?.() || intlLocale.weekInfo;\n});\n\nexport function getFirstDayOfWeek(locale = 'en-US') {\n  return getWeekInfo(locale)?.firstDay || 1;\n}\n\n// FIXME 浏览器兼容性优化\nconst i18nRelativeTimeFormatter = cacheOrUpdate(\n  'en-US',\n  (locale) => new Intl.RelativeTimeFormat(locale, { numeric: 'auto' }),\n);\nexport function i18nRelativeTime(value: number, unit: Intl.RelativeTimeFormatUnit, locale = 'en-US') {\n  return i18nCapitalize(i18nRelativeTimeFormatter(locale).format(value, unit));\n}\n\n// @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\nexport const getTimeZoneNameFromOffset = (timezone, locale) => {\n  const formattedTimeZone = Intl.DateTimeFormat(locale, {\n    timeZone: timezone,\n    timeZoneName: 'long',\n  }).format(new Date());\n\n  return formattedTimeZone.split(' ').slice(1).join(' ');\n};\n"],"mappings":"6CAAgBA,EAAeC,EAAcC,EAAS,SACpD,IAAKD,EAAM,CACT,OAAOA,C,CAGT,OAAOA,EAAK,GAAGE,kBAAkBD,GAAUD,EAAKG,UAAU,EAC5D,CCQA,MAAMC,EAAcC,EAAc,SAAUJ,IAC1C,MAAMK,EAA6B,IAAIC,KAAKC,OAAOP,GAEnD,OAAOK,EAAWF,iBAAmBE,EAAWG,QAAQ,IAG1C,SAAAC,EAAkBT,EAAS,SACzC,OAAOG,EAAYH,IAASU,UAAY,CAC1C,CAGA,MAAMC,EAA4BP,EAChC,SACCJ,GAAW,IAAIM,KAAKM,mBAAmBZ,EAAQ,CAAEa,QAAS,WAEvD,SAAUC,EAAiBC,EAAeC,EAAmChB,EAAS,SAC1F,OAAOF,EAAea,EAA0BX,GAAQiB,OAAOF,EAAOC,GACxE,C,MAGaE,EAA4B,CAACC,EAAUnB,KAClD,MAAMoB,EAAoBd,KAAKe,eAAerB,EAAQ,CACpDsB,SAAUH,EACVI,aAAc,SACbN,OAAO,IAAIO,MAEd,OAAOJ,EAAkBK,MAAM,KAAKC,MAAM,GAAGC,KAAK,IAAI,S","ignoreList":[]}