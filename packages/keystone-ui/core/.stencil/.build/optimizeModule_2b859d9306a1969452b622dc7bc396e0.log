import{r as t,c as e,h as i,H as a,a as s}from"./p-BVbYP5UG.js";import{c as o}from"./p-BLeWSNPN.js";import{k as n}from"./p-DMO-AHJn.js";import{a as r}from"./p-Ou74PMQs.js";import{d as l,t as c}from"./p-B9Bv72kO.js";import{S as f}from"./p-DtH7945i.js";import{r as d}from"./p-DOsoKeKK.js";import{a as p,b as h}from"./p-DQMKCe7v.js";import{c as m}from"./p-CZoCRgNL.js";import"@oddbird/popover-polyfill";import"./p-B85MJLTf.js";import"./p-BpTTFEEs.js";const b='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}.toast{box-sizing:border-box;margin-bottom:var(--ks-spacing-400);color:var(--ks-color-neutral-highOnSurface);background-color:var(--ks-color-neutral-surface);border-radius:var(--ks-border-radius-md);box-shadow:var(--ks-elevation-shadow-level3);pointer-events:auto;display:none;justify-content:space-between;align-items:flex-start;gap:var(--ks-spacing-200)}.toast__icon{display:inline-flex;align-items:center;height:20px}.toast__icon ks-icon-loading{animation:ks-message-icon-spin 1s linear infinite}.toast--sm{width:auto;max-width:400px;padding:var(--ks-spacing-200) var(--ks-spacing-300)}.toast--sm .toast__content{font-size:var(--ks-text-bodySm-fontSize);line-height:var(--ks-text-bodySm-lineHeight);font-weight:var(--ks-text-bodySm-fontWeight);letter-spacing:var(--ks-text-bodySm-letterSpacing);font-family:var(--ks-text-bodySm-fontFamily)}.toast--sm .toast__close::part(self){padding:var(--ks-spacing-50);font-size:var(--ks-text-bodySm-fontSize)}.toast--md{width:400px;padding:var(--ks-spacing-300)}.toast--md .toast__title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:var(--ks-text-titleSm-fontSize);line-height:var(--ks-text-titleSm-lineHeight);font-weight:var(--ks-text-titleSm-fontWeight);letter-spacing:var(--ks-text-titleSm-letterSpacing);font-family:var(--ks-text-titleSm-fontFamily)}.toast--md .toast__title__container{display:flex;gap:var(--ks-spacing-200);align-items:center}.toast--md .toast__content{font-size:var(--ks-text-labelSm-fontSize);line-height:var(--ks-text-labelSm-lineHeight);font-weight:var(--ks-text-labelSm-fontWeight);letter-spacing:var(--ks-text-labelSm-letterSpacing);font-family:var(--ks-text-labelSm-fontFamily)}.toast--md .toast__content__withicon{margin-left:calc(var(--ks-spacing-200) + 16px)}.toast--md .toast__close__icon{padding:var(--ks-spacing-50)}.toast--md .toast__close::part(self){padding:var(--ks-spacing-200);font-size:var(--ks-text-bodySm-fontSize)}.toast__wrapper{flex:1;display:flex;flex-direction:column;row-gap:var(--ks-spacing-100)}.toast[style-show]{display:inline-flex;transform:translateY(-100%)}.toast__close::part(self){min-width:unset;width:auto;height:auto;border:none}@keyframes ks-message-icon-spin{0%{transform:rotate(0deg)}50%{transform:rotate(120deg)}100%{transform:rotate(360deg)}}';var k=undefined&&undefined.__decorate||function(t,e,i,a){var s=arguments.length,o=s<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,i):a,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,i,a);else for(var r=t.length-1;r>=0;r--)if(n=t[r])o=(s<3?n(o):s>3?n(e,i,o):n(e,i))||o;return s>3&&o&&Object.defineProperty(e,i,o),o};const g={success:i("ks-icon-filled-check",{innerColor:n.color.success.onFillLow,color:n.color.success.fillLow}),warning:i("ks-icon-filled-warning",{innerColor:n.color.warning.onFillLow,color:n.color.warning.fillLow}),error:i("ks-icon-filled-caution",{innerColor:n.color.error.onFillLow,color:n.color.error.fillLow}),info:i("ks-icon-filled-info",{innerColor:n.color.primary.onFillLow,color:n.color.primary.fillLow}),loading:i("ks-icon-loading",{color:n.color.primary.fill})};const y="toast";const u=class{async open(){if(!(await(this.beforeOpen?.())??true)){return}await this.visibleByAnime(true);await(this.afterOpen?.());this.aotuClose();p(this.el,{eventType:"popup"});h(this.el,{eventType:"popup",reset:true})}async close(){await this.closeHandler();h(this.el,{eventType:"popup"})}constructor(i){t(this,i);this.ksClose=e(this,"ksClose",1);this["ks-name"]="ks-toast";this.showIcon=false;this.duration=3e3;this.closeable=false;this.variant="info";this.size="sm";d(this.el)}componentDidLoad(){this.cbAfterDidLoad?.()}async closeHandler(){this.clearTimer();if(!(await(this.beforeClose?.())??true)){return}await this.visibleByAnime(false);await(this.afterClose?.());this.ksClose.emit()}async visibleByAnime(t,e){return new Promise((i=>{r({duration:e?0:200,targets:this.rootEl,easing:"cubicBezier(0.4, 0, 0.2, 1)",translateY:t?[{value:"-8px",duration:0},{value:"0"}]:"-8px",opacity:t?1:0,begin:()=>{if(t){this.rootEl.setAttribute("style-show","true")}},complete:()=>{if(!t){this.rootEl.removeAttribute("style-show")}i(t)}})}))}aotuClose(){this.clearTimer();if(this.duration===0){return}this.timer=window.setTimeout((async()=>{await this.closeHandler();this.clearTimer()}),this.duration)}clearTimer(){clearTimeout(this.timer);this.timer=undefined}render(){const t=o([`${y}`],[`${y}--${this.size}`]);const e=o([`${y}__icon`,`${y}__icon--color-${this.variant}`]);const s=this.size==="sm"?"xs":this.size;return i(a,{key:"ab02923c2c8c2f051036e2b8246abd7f7558cc80",dir:l(),"ks-toast":true,role:"presentation"},i("div",{key:"f5deefc5a92a6479f563734bbba4de4ac5f17f87",dir:l(),class:t,part:"self",ref:t=>{this.rootEl=t},style:this.customStyle},i("slot",{key:"3eccb14f2eaf405ab3695e88e7fa4ca2b2744510",name:"body"},this.showIcon&&this.size==="sm"&&i("span",{key:"e2739772b18bd52a1dd5e6c3ba527a128d83eac1",part:"icon",class:e},i("slot",{key:"69597b40b516b879ccca105d1efa1e1ae9d14a8c",name:"icon"},g[this.iconName]||null)),i("div",{key:"6a02f7e01a30800cee1a8242947d641dc2f0bfa9",class:`${y}__wrapper`},this.size==="md"&&i("span",{key:"51c19f45e161e3b92e9dcd7ef46f299ef040284a",class:`${y}__title__container`},this.showIcon&&i("span",{key:"eed7f421a062e088c317176faa8f1e27f5641193",part:"icon",class:e},i("slot",{key:"f93391b05fc53b0e76632532160aa7c522dcec77",name:"icon"},g[this.iconName]||null)),i("span",{key:"860f3533132df16155d9448f5472e80e20b224ce",part:"title",class:`${y}__title`},this.title||`${this.variant[0].toUpperCase()}${this.variant.slice(1)}`)),i("span",{key:"001e9c95712393bbe796bd2319c02171b97f898a",part:"content",class:{[`${y}__content`]:true,[`${y}__content__withicon`]:this.showIcon&&this.size==="md"}},i("slot",{key:"d0d143947107953bc4576e284e2520682fcfa001"},this.content??c(m.empty))))),this.actionSlots&&i("slot",{key:"e6704423a69ce6ce5e3d1ba7a82ecf2429dbe1b8",name:"action"}),this.closeable&&i("ks-button",{key:"91334a81b6663d7d86539a0ba8fe7bfa5f215a33",variant:"text",shape:"square",size:s,class:`${y}__close`,onClick:this.closeHandler.bind(this),"data-testid":"ks-toast-index-stN5J3"},i("slot",{key:"9f05b88a449892a3fca239327da4db3ba172a265",name:"closebtn"},i("ks-icon-close",{key:"ad20f71a5ac697c3395348872561f0c49eb22f71",class:`${y}__close__icon`,size:this.size==="sm"?14:16})))))}get el(){return s(this)}};k([f({slotname:"action"})],u.prototype,"actionSlots",void 0);u.style=b;export{u as ks_toast};