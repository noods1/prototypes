import{r as t,t as i,h as s,F as e,H as h,a as o}from"./p-BVbYP5UG.js";import{d as r}from"./p-B9Bv72kO.js";import{S as a}from"./p-DtH7945i.js";import{h as n,g as l,a as d,b as c}from"./p-mGm1aL66.js";import{d as f}from"./p-B0FO8VRg.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";import"./p-D53F0nW8.js";const u='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{position:relative;display:block;width:100%}.carousel--arrow{position:absolute;z-index:1;top:50%;transform:translate(0, -50%);background-color:var(--ks-color-neutral-onFill);border-radius:var(--ks-border-radius-md)}.carousel--arrow__overlay--left{box-shadow:var(--ks-elevation-shadow-level3);left:0;transform:translate(-50%, -50%)}.carousel--arrow__overlay--right{box-shadow:var(--ks-elevation-shadow-level3);right:0;transform:translate(50%, -50%)}.carousel--arrow__left:not(.carousel--arrow__overlay--left){left:-32px}.carousel--arrow__right:not(.carousel--arrow__overlay--right){right:-32px}.carousel--arrow--icon{color:var(--ks-color-neutral-onSurface)}.carousel .first,.carousel .last{float:left}.bulletin-mode{position:absolute;top:calc(202px + var(--ks-spacing-400))}';var b=undefined&&undefined.__decorate||function(t,i,s,e){var h=arguments.length,o=h<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,s):e,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,i,s,e);else for(var a=t.length-1;a>=0;a--)if(r=t[a])o=(h<3?r(o):h>3?r(i,s,o):r(i,s))||o;return h>3&&o&&Object.defineProperty(i,s,o),o};const p=class{constructor(i){t(this,i);this["ks-name"]="ks-carousel";this.dots=false;this.arrows=false;this.autoplay=false;this.infinite=false;this.autoplaySpeed=3e3;this.slidesToShow=1;this.slidesToScroll=1;this.initialSlide=0;this.pagination=false;this.bulletinMode=false;this.containerWidth=0;this.width=0;this.sliderWidth=0;this.height=0;this.listWidth=0;this.currentIndex=0;this.clickArrow="none";this.count=0;this.dotsCount=0;this.dotsIndex=1;this.autoplaying="playing";this.timer=null;this.debouncedResize=null;this.autoPlay=t=>{if(this.timer){clearInterval(this.timer)}const{autoplaying:i}=this;if(t==="update"){if(i==="hovered"||i==="focused"||i==="paused"){return}}else if(t==="leave"){if(i==="paused"||i==="focused"){return}}else if(t==="blur"){if(i==="paused"||i==="hovered"){return}}this.timer=setInterval(this.play,this.autoplaySpeed+50);this.autoplaying="playing"};this.play=()=>{if(r()==="ltr"&&(this.infinite||this.currentIndex>0)){this.clickRightArrow.call(this)}else if(this.infinite||n(this)){this.clickLeftArrow.call(this)}};this.pause=t=>{if(this.timer){clearInterval(this.timer);this.timer=null}const{autoplaying:i}=this;if(t==="paused"){this.autoplaying="paused"}else if(t==="focused"){if(i==="hovered"||i==="playing"){this.autoplaying="focused"}}else{if(i==="playing"){this.autoplaying="hovered"}}};this.onDotsOver=()=>this.autoplay&&this.pause("hovered");this.onDotsLeave=()=>this.autoplay&&this.autoplaying==="hovered"&&this.autoPlay("leave");this.onTrackOver=()=>this.autoplay&&this.pause("hovered");this.onTrackLeave=()=>{this.autoplay&&this.autoplaying==="hovered"&&this.autoPlay("leave")};this.onSlideFocus=()=>this.autoplay&&this.pause("focused");this.onSlideBlur=()=>this.autoplay&&this.autoplaying==="focused"&&this.autoPlay("blur")}handleSlidesToShowChange(){this.currentIndex=r()==="ltr"?this.initialSlide:this.count-this.initialSlide;this.sliderWidth=this.width*this.slidesToScroll;this.currentIndex=this.initialSlide;this.renameSlot.call(this)}handleAutoplayChange(){if(this.autoplay){clearInterval(this.timer);this.timer=setInterval((()=>{this.clickRightArrow.call(this)}),this.autoplaySpeed)}else{clearInterval(this.timer)}}upDateDotsIndex(){this.dotsIndex=1+Math.ceil(this.currentIndex/this.slidesToScroll)}componentWillLoad(){this.currentIndex=this.initialSlide;this.sliderWidth=this.width*this.slidesToScroll;this.upDateDotsIndex()}componentDidLoad(){this.observer=new MutationObserver((t=>{for(const i of t){if(i.type==="childList"){this.renameSlot()}}}));this.resizeObserver=new ResizeObserver(this.onResized.bind(this));this.observer.observe(this.el,{childList:true});this.resizeObserver.observe(this.el);this.containerWidth=l(this.el);this.renameSlot();this.handleAutoplayChange()}onResized(){if(this.debouncedResize){this.debouncedResize.cancel()}this.debouncedResize=f((()=>this.resizeContainer()),50);this.debouncedResize()}resizeContainer(){this.containerWidth=l(this.el);this.width=this.containerWidth/this.slidesToShow;this.sliderWidth=this.width*this.slidesToScroll;this.height=d(this.el);this.listWidth=this.slidesToShow*this.width*(this.count+Number(this.infinite)*2*this.slidesToShow)}disconnectedCallback(){clearInterval(this.timer)}renameSlot(){Array.from(this?.el.children).forEach(((t,i)=>{t.slot=`carousel-${i}`;t.onmouseover=this.onSlideFocus.bind(this);t.onmouseleave=this.onSlideBlur.bind(this)}));this.width=this.containerWidth/this.slidesToShow;this.sliderWidth=this.width*this.slidesToScroll;this.height=d(this.el);this.count=this?.el.children?.length;this.dotsCount=c({slideCount:this.count,slidesToScroll:this.slidesToScroll,slidesToShow:this.slidesToShow,infinite:this.infinite});if(this.infinite){const t=Array.from(this?.el.children).slice(0,this.slidesToShow).map((t=>{const i=document.createElement("div");i.style.width=`${this.width}px`;i.appendChild(t.cloneNode(true));i.onfocus=this.onSlideFocus.bind(this);i.onblur=this.onSlideBlur.bind(this);return i}));const i=Array.from(this?.el.children).slice(this.count-this.slidesToShow,this.count).map((t=>{const i=document.createElement("div");i.style.width=`${this.width}px`;i.appendChild(t.cloneNode(true));i.onfocus=this.onSlideFocus.bind(this);i.onblur=this.onSlideBlur.bind(this);return i}));this.last.replaceChildren(...t);this.first.replaceChildren(...i)}this.listWidth=this.slidesToShow*this.width*(this.count+Number(this.infinite)*2*this.slidesToShow);i(this.el)}renderCarousel(){const t=Array.from(this?.el.children)?.map(((t,i)=>s("div",{key:i,style:{width:`${this.width}px`},"data-testid":`ks-carousel-index-cDdYjP-${i}`},s("slot",{name:`carousel-${i}`}))));return s(e,null,this.infinite&&s("div",{key:"first",class:"first",ref:t=>this.first=t,style:{width:`${this.slidesToShow*this.width}px`,float:"left",display:"flex"},"data-testid":"ks-carousel-index-47jCpv"}),t,this.infinite&&s("div",{key:"last",class:"last",ref:t=>this.last=t,style:{width:`${this.slidesToShow*this.width}px`,float:"left",display:"flex"},"data-testid":"ks-carousel-index-3Gwhha"}))}clickLeftArrow(){if(this.currentIndex>=this.slidesToScroll){this.currentIndex=this.currentIndex-this.slidesToScroll}else if(this.infinite){const t=this.currentIndex-this.slidesToScroll;this.currentIndex=this.count+Math.max(-this.slidesToShow,t)}else{this.currentIndex=0}this.clickArrow="left"}clickRightArrow(){if(this.currentIndex+this.slidesToShow<this.count-this.slidesToScroll){this.currentIndex=this.currentIndex+this.slidesToScroll}else if(this.infinite){const t=this.currentIndex+this.slidesToScroll;this.currentIndex=t>=this.count?0:t}else{this.currentIndex=this.count-this.slidesToShow}this.clickArrow="right"}handleArrowButtonClick(t){const{detail:i}=t;if(this.autoplay){clearInterval(this.timer)}if(i==="left"){this.clickLeftArrow()}else{this.clickRightArrow()}}render(){return s(h,{key:"3903f70e26d04b2cdad1926f7b7fe4c094b70c5a",dir:r(),"ks-carousel":true},s("ks-inner-slider",{key:"09f4e6df3e78e1f8da96bea48d1a7cab26cac142",clickArrow:this.clickArrow,count:this.count,currentIndex:this.currentIndex,listWidth:this.listWidth,height:this.height,sliderWidth:this.width,slidesToScroll:this.slidesToScroll,slidesToShow:this.slidesToShow,infinite:this.infinite},this.renderCarousel()),this.arrows&&s("ks-arrow-button-group",{key:"714b19f6313d55c107ce5b4f1124f4cd1d781146",onKsChange:this.handleArrowButtonClick.bind(this),currentIndex:this.currentIndex,slidesToShow:this.slidesToShow,count:this.count,infinite:this.infinite,orient:"left",arrows:this.arrows,onKsArrowOver:this.onTrackOver.bind(this),onKsArrowLeave:this.onTrackLeave.bind(this),onKsArrowEnter:this.onTrackLeave.bind(this),bulletinMode:this.bulletinMode,"data-testid":"ks-carousel-index-kt2aFL"}),(this.pagination||this.dots&&this.dotsCount>6)&&s("ks-arrow-pagination",{key:"4a857cfe4083f9c07c7902641c6f53e2708dd4d8",onKsChange:this.handleArrowButtonClick.bind(this),count:this.dotsCount,currentIndex:this.dotsIndex,slidesToShow:this.slidesToShow,infinite:this.infinite,onKsArrowOver:this.onTrackOver.bind(this),onKsArrowLeave:this.onTrackLeave.bind(this),onKsArrowEnter:this.onTrackLeave.bind(this),"data-testid":"ks-carousel-index-aNUY1x"}),this.dots&&this.dotsCount<7&&s("ks-dots",{key:"b1d8f15332badd0c218158ea36486d073d8bc50e",class:{"bulletin-mode":this.bulletinMode},count:this.dotsCount,currentIndex:this.dotsIndex,onKsChange:t=>{const{detail:i}=t;this.currentIndex=this.currentIndex+i*this.slidesToScroll;this.clickArrow="none"},onKsDotsOver:this.onDotsOver.bind(this),onKsDotsLeave:this.onDotsLeave.bind(this),onKsDotsEnter:this.onDotsLeave.bind(this),"data-testid":"ks-carousel-index-eLjmrW"}))}get el(){return o(this)}static get watchers(){return{initialSlide:["handleSlidesToShowChange"],slidesToShow:["handleSlidesToShowChange"],slidesToScroll:["handleSlidesToShowChange"],infinite:["handleSlidesToShowChange"],autoplay:["handleAutoplayChange"],currentIndex:["upDateDotsIndex"]}}};b([a({slotname:"_default"})],p.prototype,"defaultSlots",void 0);p.style=u;const g='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:block;width:100%}';const k=class{constructor(i){t(this,i);this["ks-name"]="ks-carousel-item"}render(){return s(h,{key:"49ab89757ba0a3ce81b4f4bb24a18bee5207ba02",dir:r(),"ks-carousel-item":true},s("slot",{key:"4859bf94f219d1cbb32bc5895a3e952f5b9c95bb"}))}get el(){return o(this)}};k.style=g;export{p as ks_carousel,k as ks_carousel_item};