import{c as t}from"./p-B9Bv72kO.js";function n(t,n){t=(t||[]).concat(t.map((t=>t?.shadowRoot))).filter((t=>!!t));for(let r=0,o=t.length;r<o;r+=1){if(e(n,t[r])){return true}}return false}function r(t){const{target:n}=t;const r=t.composedPath&&t.composedPath()||t.path;if(r){return r.indexOf(window)<0?r.concat(window):r}if(n===window){return[window]}const e=(t,n)=>{const{parentNode:r}=t;if(!r){return n}else{return e(r,n.concat(r))}};return[n].concat(e(n,[]),window)}function e(t,n){const e=r(t);return e.indexOf(n)>-1}class o{constructor(t){this.handlers=new Map;(t??document).addEventListener("click",this.clickHandler.bind(this),true)}clickHandler(r){this.handlers.forEach((o=>{let i=o.el;if(t(o.el)){i=[o.el]}if(!e(r,o.root)&&!n(i,r)){o.fn({e:r,isOutClick:true});this.handlers.delete(o.fn)}}))}on(t,n,r){this.handlers.set(n,{root:t,fn:n,el:r})}off(t){this.handlers.delete(t)}}var i=new o(document);export{i as o};