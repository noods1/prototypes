import{r as t,c as i,h as e,H as s,a as n}from"./p-BVbYP5UG.js";import{d as r}from"./p-B9Bv72kO.js";import{S as o}from"./p-DtH7945i.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";var a;(function(t){t["UNMOUNTED"]="unmounted";t["EXITED"]="exited";t["ENTERING"]="entering";t["ENTERED"]="entered";t["EXITING"]="exiting"})(a||(a={}));const h='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:contents !important}';var l=undefined&&undefined.__decorate||function(t,i,e,s){var n=arguments.length,r=n<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,e):s,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,i,e,s);else for(var a=t.length-1;a>=0;a--)if(o=t[a])r=(n<3?o(r):n>3?o(i,e,r):o(i,e))||r;return n>3&&r&&Object.defineProperty(i,e,r),r};const f=class{constructor(e){t(this,e);this.ksEnter=i(this,"ksEnter",1);this.ksEntering=i(this,"ksEntering",1);this.ksEntered=i(this,"ksEntered",1);this.ksExit=i(this,"ksExit",1);this.ksExiting=i(this,"ksExiting",1);this.ksExited=i(this,"ksExited",1);this["ks-name"]="ks-transition";this.in=false;this.timeout=null;this.unmountOnExit=false;this.mountOnEnter=true;this.enter=true;this.exit=true;this.appear=false;this.appearStatus=null;this.nextCallback=null;this._afterRendering=[]}propsChangeHandler(){let t=null;if(this.in){if(this.currentStatus!==a.ENTERING&&this.currentStatus!==a.ENTERED){t=a.ENTERING}}else{if(this.currentStatus===a.ENTERING||this.currentStatus===a.ENTERED){t=a.EXITING}}this.updateStatus(false,t)}componentWillLoad(){if(this.in){if(this.appear){this.currentStatus=a.EXITED;this.appearStatus=a.ENTERING}else{this.currentStatus=a.ENTERED}}else{if(this.unmountOnExit||this.mountOnEnter){this.currentStatus=a.UNMOUNTED}else{this.currentStatus=a.EXITED}}}componentDidLoad(){this.updateStatus(true,this.appearStatus)}disconnectedCallback(){this.cancelNextCallback()}getTimeouts(){const{timeout:t}=this;let i,e,s;i=e=s=t;if(t&&typeof t!=="number"){i=t.exit;e=t.enter;s=t.appear!==undefined?t.appear:e}return{exit:i,enter:e,appear:s}}updateStatus(t,i){if(i!==null){this.cancelNextCallback();if(i===a.ENTERING){this.performEnter(t)}else{this.performExit()}}else if(this.unmountOnExit&&this.currentStatus===a.EXITED){this.currentStatus=a.UNMOUNTED}}performEnter(t){const{enter:i}=this;const e=t;const s=this.defaultSlot?.[0];const n=this.getTimeouts();const r=e?n.appear:n.enter;if(!t&&!i){this.safeSetState({currentStatus:a.ENTERED},(()=>{this.ksEntered.emit(s)}));return}this.ksEnter.emit(s);this.safeSetState({currentStatus:a.ENTERING},(()=>{this.ksEntering.emit(s);this.onTransitionEnd(r,(()=>{this.safeSetState({currentStatus:a.ENTERED},(()=>{this.ksEntered.emit(s)}))}))}))}performExit(){const{exit:t}=this;const i=this.getTimeouts();const e=this.defaultSlot?.[0];if(!t){this.safeSetState({currentStatus:a.EXITED},(()=>{this.ksExited.emit(e)}));return}this.ksExit.emit(e);this.safeSetState({currentStatus:a.EXITING},(()=>{this.ksExiting.emit(e);this.onTransitionEnd(i.exit,(()=>{this.safeSetState({currentStatus:a.EXITED},(()=>{this.ksExited.emit(e)}))}))}))}cancelNextCallback(){if(this.nextCallback!==null){this.nextCallback.cancel();this.nextCallback=null}}componentDidRender(){while(this._afterRendering.length){this._afterRendering.pop()()}}safeSetState(t,i){i=this.setNextCallback(i);Object.assign(this,t);this._afterRendering.push(i)}setNextCallback(t){let i=true;this.nextCallback=e=>{if(i){i=false;this.nextCallback=null;t(e)}};this.nextCallback.cancel=()=>{i=false};return this.nextCallback}onTransitionEnd(t,i){this.setNextCallback(i);const e=this.defaultSlot?.[0];const s=!!t&&!this.addEndListener;if(!e||s){setTimeout(this.nextCallback,0);return}if(this.addEndListener){const[t,i]=[e,this.nextCallback];this.addEndListener(t,i)}if(t){setTimeout(this.nextCallback,t)}}render(){return e(s,{key:"12705e74e8af5a7652697ae544b0666b0e74137a",dir:r(),"ks-transition":true},e("slot",{key:"340c08e2a3f4f78fd459122b80feb73851ae9b71"}))}get el(){return n(this)}static get watchers(){return{in:["propsChangeHandler"],timeout:["propsChangeHandler"]}}};l([o({slotname:"_default"})],f.prototype,"defaultSlot",void 0);f.style=h;export{f as ks_transition};