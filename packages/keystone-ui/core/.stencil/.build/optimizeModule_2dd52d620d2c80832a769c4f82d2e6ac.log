import{r as t,c as e,h as s,H as i,a}from"./p-BVbYP5UG.js";import{S as o}from"./p-DtH7945i.js";import{g as l}from"./p-B9Bv72kO.js";import{c as n}from"./p-BLeWSNPN.js";import{s as r}from"./p-DQMKCe7v.js";import{r as d}from"./p-DOsoKeKK.js";import{V as c}from"./p-DTAuyNBn.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";import"./p-B85MJLTf.js";const h='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:inline-block;flex-direction:column}.asset-tile{position:relative;border:1px solid var(--ks-color-neutral-fillLow);border-radius:var(--ks-border-radius-md);overflow:hidden;display:flex;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:auto;width:100%}.asset-tile ::slotted([slot=icon]){color:var(--ks-color-neutral-fill)}.asset-tile ::slotted([slot=player]){height:100% !important;width:100%}.asset-tile__player{height:100%;width:100%;background-color:var(--ks-color-neutral-surface2);position:absolute;z-index:3}.asset-tile__title{display:inline-block;width:100%}.asset-tile__title:has(.title--disabled) [ks-theme=default]{color:var(--ks-color-neutral-onSurfaceDisabled)}.asset-tile:not(.asset-tile__disabled){cursor:pointer}.asset-tile:has(.asset-tile__loading){cursor:default}.asset-tile:has(.asset-tile__status__error){border-color:var(--ks-color-error-fill)}.asset-tile__error::after{content:"";position:absolute;width:100%;height:100%;background-color:var(--ks-color-neutral-surface2);opacity:0.5;z-index:3}.asset-tile__block{border-color:var(--ks-color-neutral-fillLowDisabled)}.asset-tile__block-container{box-sizing:border-box;display:flex;align-items:center;justify-content:center;background-color:var(--ks-color-neutral-surface2Disabled);height:100%;width:100%}.asset-tile__block [ks-icon]{color:var(--ks-color-neutral-onSurfaceDisabled)}.asset-tile__loading{height:100%;width:100%;background-color:var(--ks-color-neutral-surface2);position:absolute;z-index:5}.asset-tile__loading .label{font-size:var(--ks-text-bodySm-fontSize);line-height:var(--ks-text-bodySm-lineHeight);font-weight:var(--ks-text-bodySm-fontWeight);letter-spacing:var(--ks-text-bodySm-letterSpacing);font-family:var(--ks-text-bodySm-fontFamily);font-variant-numeric:lining-nums tabular-nums;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);color:var(--ks-color-neutral-onSurface)}.asset-tile__loading-ring{color:var(--ks-color-neutral-onSurface);display:flex;flex-direction:column;align-items:center;gap:var(--ks-spacing-400);position:absolute;width:100%;top:50%;transform:translateY(-50%)}.asset-tile__status{position:absolute;left:var(--ks-spacing-200);top:var(--ks-spacing-200);display:flex;z-index:4}.asset-tile__status__content{padding:var(--ks-spacing-400)}.asset-tile__badges{position:absolute;z-index:6;left:var(--ks-spacing-200);bottom:var(--ks-spacing-200);display:inline-flex;align-items:center;gap:var(--ks-spacing-100)}.asset-tile__badges .badge{display:inline-flex;align-items:center;gap:var(--ks-spacing-100);box-sizing:border-box;padding:var(--ks-spacing-50) var(--ks-spacing-100);border-radius:var(--ks-border-radius-sm);background:var(--ks-color-neutral-overlayHigh);font-size:var(--ks-text-labelSm-fontSize);line-height:var(--ks-text-labelSm-lineHeight);font-weight:var(--ks-text-labelSm-fontWeight);letter-spacing:var(--ks-text-labelSm-letterSpacing);font-family:var(--ks-text-labelSm-fontFamily);color:var(--ks-color-neutral-surface)}.asset-tile__select-box{position:absolute;right:0;top:var(--ks-spacing-200);z-index:4}.asset-tile__disabled{border-color:var(--ks-color-neutral-fillLowDisabled)}.asset-tile__disabled ::slotted([slot=icon]){color:var(--ks-color-neutral-fillDisabled)}.asset-tile__disabled::after{content:"";position:absolute;width:100%;height:100%;background-color:var(--ks-color-neutral-surface2);opacity:0.5;z-index:5}.asset-tile__disabled .badge{background-color:var(--ks-color-neutral-overlayHighDisabled);color:var(--ks-color-neutral-onFill)}.asset-tile__disabled .asset-tile__action ::slotted([slot=action]){color:var(--ks-color-neutral-fillDisabled)}.asset-tile__action{position:absolute;right:var(--ks-spacing-200);bottom:var(--ks-spacing-200);height:24px;width:24px}.asset-tile>[ks-icon]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:4;cursor:pointer}.asset-tile--checked:not(.asset-tile__block,.asset-tile__disabled,.asset-tile:has(.asset-tile__status__error)){border-color:var(--ks-color-primary-fill)}.asset-tile:not(.asset-tile__block,.asset-tile__disabled,.asset-tile:has(.asset-tile__status),.asset-tile--checked):hover{border-color:var(--ks-color-neutral-fillLowHover)}.asset-tile:not(.asset-tile__vertical){aspect-ratio:1/1}.asset-tile__vertical{aspect-ratio:9/16}.asset-tile__sm__stretch{min-width:120px;max-width:159px}.asset-tile__sm{width:120px}.asset-tile__sm .asset-tile__loading-ring,.asset-tile__sm__stretch .asset-tile__loading-ring{font-size:var(--ks-text-labelSm-fontSize);line-height:var(--ks-text-labelSm-lineHeight);font-weight:var(--ks-text-labelSm-fontWeight);letter-spacing:var(--ks-text-labelSm-letterSpacing);font-family:var(--ks-text-labelSm-fontFamily)}.asset-tile__md__stretch{min-width:160px;max-width:199px}.asset-tile__md{width:160px}.asset-tile__md .asset-tile__loading-ring,.asset-tile__md__stretch .asset-tile__loading-ring{font-size:var(--ks-text-bodySm-fontSize);line-height:var(--ks-text-bodySm-lineHeight);font-weight:var(--ks-text-bodySm-fontWeight);letter-spacing:var(--ks-text-bodySm-letterSpacing);font-family:var(--ks-text-bodySm-fontFamily)}.asset-tile__lg__stretch{min-width:200px;max-width:239px}.asset-tile__lg{width:200px}.asset-tile__lg .asset-tile__loading-ring,.asset-tile__lg__stretch .asset-tile__loading-ring{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}.asset-tile__xl__stretch{min-width:240px;max-width:280px}.asset-tile__xl{width:240px}.asset-tile__xl .asset-tile__loading-ring,.asset-tile__xl__stretch .asset-tile__loading-ring{font-size:var(--ks-text-bodyLg-fontSize);line-height:var(--ks-text-bodyLg-lineHeight);font-weight:var(--ks-text-bodyLg-fontWeight);letter-spacing:var(--ks-text-bodyLg-letterSpacing);font-family:var(--ks-text-bodyLg-fontFamily)}.asset-tile img{height:100%;width:100%;object-fit:cover}.asset-tile img.rectangle{object-fit:contain}.asset-tile .error{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.asset-tile .shadow-no-cursor{cursor:auto}.asset-tile .tags{position:absolute;left:8px;bottom:8px;display:inline-flex;gap:var(--ks-spacing-200);z-index:4}.asset-tile .tags .tag{display:inline-flex;height:20px;box-sizing:border-box;padding:var(--ks-spacing-50) var(--ks-spacing-100);background:var(--ks-color-neutral-overlayHigh);color:var(--ks-color-neutral-onFill);letter-spacing:0.0134em;font-family:var(--ks-ref-text-fontFamily-text);text-align:center;border-radius:var(--ks-border-radius-sm);font-size:12px;align-items:center;line-height:16px}.asset-tile .asset-tile__video-box{height:100%;width:100%}.asset-tile .asset-tile__video-box video{height:100%;width:100%}.asset-tile__extra{display:flex;flex-direction:column;gap:var(--ks-spacing-200);padding:var(--ks-spacing-200)}.asset-tile__content{display:flex;flex-direction:column;gap:var(--ks-spacing-50)}.asset-tile__title{color:var(--ks-color-neutral-highOnSurface, #121415);font-family:"TikTok Sans Text";font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:0.094px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.asset-tile__title__container{display:flex;align-items:center}.asset-tile__title__bold{font-size:var(--ks-text-titleSm-fontSize);line-height:var(--ks-text-titleSm-lineHeight);font-weight:var(--ks-text-titleSm-fontWeight);letter-spacing:var(--ks-text-titleSm-letterSpacing);font-family:var(--ks-text-titleSm-fontFamily)}.asset-tile__title__avatar{font-size:12px;line-height:16px;letter-spacing:0.161px;width:calc(100% - 32px);margin-left:var(--ks-spacing-200)}.asset-tile__avatar{width:24px;height:24px;border-radius:var(--ks-border-radius-full);object-fit:cover;display:inline-block}.asset-tile__desc,.asset-tile__title,.asset-tile__detail{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.asset-tile__desc,.asset-tile__detail{color:var(--ks-color-neutral-onSurface, #6d6e70);font-family:"TikTok Sans Text";font-size:12px;font-style:normal;font-weight:400;line-height:16px;letter-spacing:0.161px}.asset-tile__desc__container,.asset-tile__detail__container{display:flex;flex-direction:column;gap:var(--ks-spacing-50)}.asset-tile__additional_tags{display:flex;align-items:center;gap:var(--ks-spacing-200);flex-wrap:wrap}';var _=undefined&&undefined.__decorate||function(t,e,s,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,s):i,l;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)if(l=t[n])o=(a<3?l(o):a>3?l(e,s,o):l(e,s))||o;return a>3&&o&&Object.defineProperty(e,s,o),o};const f="asset-tile";const g=class{checkedWatcher(t){this._checked=t}sizeWatcher(){this.setIconSize()}additionalTagsWatcher(){const t=[];if(this.additionalTags?.recommendation)t.push({type:"recommend",content:"Recommended"});if(this.additionalTags?.ai)t.push({type:"ai"});this.additionalTags?.others?.forEach((e=>t.push({type:"normal",content:e})));this.__additionalTags=t}constructor(s){t(this,s);this.ksChange=e(this,"ksChange",1);this.ksAction=e(this,"ksAction",1);this["ks-name"]="ks-asset-tile";this.mediaType="image";this.image="";this.playing=false;this.size="sm";this.select="checkbox";this.ratio="1:1";this.disabled=false;this.mode="cover";this.status="default";this.block=false;this.blockReason="";this.badge="";this.showTiktok=false;this.freeStretch=true;this._checked=false;this.__additionalTags=[];this.updateParentValue=t=>{this.parentValue=t.detail};d(this.el)}handleValueChange(t){this.ksChange?.emit(t.detail);if(this.checked===undefined&&!this.parentEl){this._checked=t.detail}r(this.el,{eventType:"change",componentParams:{value:t.detail}})}setIconSize(){let t=48;switch(this.size){case"sm":t=48;break;default:t=64;break}if(this.iconSlot){this.iconSlot[0]?.setAttribute("size",`${t}px`)}}renderSelectBox(){const t=this.select==="checkbox"?s("ks-checkbox",{onKsChange:this.handleValueChange.bind(this),value:this.value,checked:this._checked,disabled:this.disabled,"data-testid":"ks-asset-tile-index-9aiCBq"}):s("ks-radio",{onKsChange:this.handleValueChange.bind(this),value:this.value,checked:this._checked,disabled:this.disabled,"data-testid":"ks-asset-tile-index-szed22"});return s("div",{class:`${f}__select-box`},t)}renderBage(){return s("div",{class:`${f}__badges`},this.mediaType!=="image"&&s("span",{class:"badge"},this.mediaType==="carousel"&&s("ks-icon-picture",{size:14}),this.badge),this.showTiktok&&s("span",{class:"badge"},s("ks-icon-tiktok",{size:14})))}renderStatus(){if(this.status==="default")return null;if(this.status==="pending")return s("ks-tag",{size:this.size!=="sm"?"md":"sm",class:`${f}__status__pending`},"Pending");return s("ks-status-icon",{size:this.size!=="sm"?"md":"sm",class:`${f}__status__${this.status}`,variant:this.status,stroke:"#ffffff"})}renderAction(){if(this.action==="more"){return s("div",{class:`${f}__action`},s("ks-dropdown-menu",{onClick:t=>{t.stopPropagation()},onKsValueChange:({detail:t})=>{this.ksAction.emit(t[0])},selectable:false,trigger:"click",dataSource:this.actionSource,"data-testid":"ks-asset-tile-index-royWtj"},s("ks-button",{size:"sm",shape:"square","data-testid":"ks-asset-tile-index-aQsLdn"},s("ks-icon-more-vertical",{size:"14"}))))}else{switch(this.action){case"delete":return s("ks-icon-delete",{size:"14"});case"edit":return s("ks-icon-edit",{size:"14"});default:return s("ks-icon-full-screen",{size:"14"})}}}renderAssetTileContent(){const{title:t,description:e,detailInfos:i,avatar:a}=this.assetTileContent;const o=n({[`${f}__title`]:true,[`${f}__title__bold`]:(e||i&&i.length>0)&&!a,[`${f}__title__avatar`]:a});return s("slot",{name:"content-wrapper"},s("div",{class:`${f}__content`},s("div",{class:`${f}__title__container`},a&&s("img",{class:`${f}__avatar`,src:a}),s("div",{class:o},t)),e&&s("div",{class:`${f}__desc`},e),i&&i.length>0&&s("div",{class:`${f}__detail__container`},i.map((t=>s("div",{class:`${f}__detail`},t))))))}additionalTag(t){const e=t.type==="ai";if(e)return s("ks-tooltip",{content:"AI Generation"},s("ks-tag",{size:"sm",variant:"new"},s("ks-icon-smart-plus",{size:"14"})));return s("ks-tag",{size:"sm",variant:t.type==="recommend"?"info":"neutral"},t.content)}renderAdditionalTags(){const t=this.__additionalTags.length>2;const e=this.__additionalTags.slice(0,2);return s("div",{class:`${f}__additional_tags`},e.map((t=>this.additionalTag(t))),t&&s("ks-tooltip",null,s("div",{slot:"content"},this.__additionalTags.slice(2).map(((t,e)=>s("div",null,e+2!==this.__additionalTags.length-1?`${t.content},`:t.content)))),s("ks-tag",{size:"sm"},"+",`${this.__additionalTags.length-e.length}`)))}get progressSize(){switch(this.size){case"lg":return"sm";case"xl":return"md";default:return"xs"}}addBroadcastEventListener(){this.parentEl?.removeEventListener(`ks-${this.select}-broadcast`,this.updateParentValue);this.parentEl?.addEventListener(`ks-${this.select}-broadcast`,this.updateParentValue)}componentWillLoad(){if(this.checked!==undefined)this._checked=this.checked;this.additionalTagsWatcher()}componentDidLoad(){if(this.select!=="none"){this.parentEl=l(this.el,`ks-${this.select}-group`);if(this.parentEl){const t=this.parentEl?._getValue?.();this.parentValue=t}this.addBroadcastEventListener()}this.setIconSize();this.observer=new MutationObserver((()=>{this.setIconSize()}));this.observer.observe(this.el,{childList:true})}connectedCallback(){if(this.select!=="none"){this.addBroadcastEventListener()}}disconnectedCallback(){if(!this.el.isConnected&&this.select!=="none"){this.parentEl?.removeEventListener(`ks-${this.select}-broadcast`,this.updateParentValue)}}render(){const t={background:this.image&&!this.block?`url(${this.image}) 50% / ${this.mode} no-repeat`:`var(--ks-color-neutral-surface2${this.disabled?"Disabled":""})`};const e=n({[`${f}--checked`]:this.select!=="none"&&(this.loading===undefined||!this.loading.isLoading)&&(this._checked||this.value&&(this.parentValue===this.value||this.parentValue?.includes(this.value))),[`${f}__vertical`]:this.ratio==="16:9",[`${f}__block`]:this.block,[`${f}__error`]:this.status==="error"&&this.image,[`${f}__${this.size}__stretch`]:this.freeStretch,[`${f}__${this.size}`]:!this.freeStretch});const a=this.size==="sm"?42:56;return s(i,{key:"52d82003d4b7891d5a374a69a1936699829c0f6e","ks-thumnail":true},s("div",{key:"d6ca996ab6644437b9f8b0eb92cf5d19d5a8b060",style:t,class:`${f} ${this.disabled?`${f}__disabled`:""} ${e}`,onClick:t=>{const e=t.target;if(this.disabled||this.loading?.isLoading||e.getAttribute("ks-checkbox")!==null||e.getAttribute("ks-radio")!==null||this.block){return}this.parentEl?._change(this.value);const s=this.select==="checkbox"?!this._checked:true;this.handleValueChange({detail:s})},"data-testid":"ks-asset-tile-index-nvY97b"},!this.block&&this.select!=="none"&&!this.loading?.isLoading&&this.renderSelectBox(),!this.block&&this.iconSlot&&!this.image&&s("slot",{key:"d3dd711620643f731b6a667d101484dd0547ddb5",name:"icon"}),!this.block&&this.playerSlot&&this.playing&&s("div",{key:"b1609f3970e6ee1bd4fcd6e60d295a2b372192e1",class:{[`${f}__player`]:true}},s("slot",{key:"2c5231ae9424b047a125811698b54c820d558ddc",name:"player"})),!this.block&&this.badge&&this.renderBage(),!this.block&&this.status!=="default"&&!this.disabled&&s("span",{key:"d4a2488ccb883b3d4beeabc01b8b00394bedb45c",class:`${f}__status`},s("ks-tooltip",{key:"0cfe3acfe7869a65b8fd1268275ea017ad330c9a"},this.statusContentSlot&&s("div",{key:"d52d398404a08aa10376ce8698a8463e3449db37",class:`${f}__status__content`,slot:"body"},s("slot",{key:"fbd3e452e830bd2b0088267ac632c0c30c5e0038",name:"status-content"})),this.renderStatus())),!this.block&&this.action&&typeof this.action!=="boolean"&&(this.action==="more"?this.renderAction():s("ks-button",{onClick:t=>{t.stopPropagation();this.ksAction?.emit(this.action);r(this.el,{eventType:"click",subEventType:"action"})},size:"sm",shape:"square",class:`${f}__action`,"data-testid":"ks-asset-tile-index-bohWFE"},this.renderAction())),!this.block&&this.loading&&this.loading.isLoading&&s("div",{key:"49f6f11aaf9439c14d37f6376c3bb094eb33116a",class:`${f}__loading`},s("div",{key:"617f28201931830327c77a0517523c19698da45c",class:`${f}__loading-ring`},s("ks-progress",{key:"6b55f6bfd1ea7670626d28d6e05f08ffc8f8a797",variant:"ring",percent:this.loading.percent,size:this.progressSize}),s("span",{key:"758935b2cf3fff38a83f5a95acc00e2bad92d7eb"},"Loading....."))),this.block&&s("ks-tooltip",{key:"62155ab0e889953cc29ea266db2c4b9a5f69c78b",contentStyle:{maxWidth:"240px"},disabled:!this.blockReason,content:this.blockReason},s("div",{key:"478ed07bb08d3385e476cb79e7e642009f11d001",class:`${f}__block-container`},s("ks-icon-block-none",{key:"9f00bab1d1f9236d2bb6168a4a2a4d1324c50570",size:a})))),(this.assetTileContent||this.additionalTags)&&s("div",{key:"e5db75182966d86212b9e9d2abbac2e770ca08f9",class:`${f}__extra ${f}__${this.size}`},this.assetTileContent&&this.renderAssetTileContent(),this.additionalTags&&this.renderAdditionalTags()))}get el(){return a(this)}static get watchers(){return{checked:["checkedWatcher"],size:["sizeWatcher"],additionalTags:["additionalTagsWatcher"]}}};_([c()],g.prototype,"value",void 0);_([o({slotname:"icon"})],g.prototype,"iconSlot",void 0);_([o({slotname:"player"})],g.prototype,"playerSlot",void 0);_([o({slotname:"status-content"})],g.prototype,"statusContentSlot",void 0);g.style=h;export{g as ks_asset_tile};