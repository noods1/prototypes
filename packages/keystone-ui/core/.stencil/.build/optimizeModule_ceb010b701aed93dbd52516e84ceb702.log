import{r as s,c as i,h as t,H as e}from"./p-BVbYP5UG.js";import{d as o}from"./p-B9Bv72kO.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";const l=":host{display:contents !important;pointer-events:none}.overlay{border:0;margin:0;padding:0;background:none;inset:auto;top:0;left:0;height:auto;position:fixed;overflow:visible}.overlay::backdrop{display:none}";const r="overlay";const h=class{constructor(t){s(this,t);this.close=i(this,"close",3);this["ks-name"]="ks-overlay";this.open=false;this.type="dialog";this.deprecatedDisableTopLayer=false;this.deprecatedZIndexOverride=0;this._eventListenerEstablished=false;this._onClose=()=>{this.close.emit();this.hide()}}openWatcher(s){if(s){this.show()}else{this.hide()}}show(){if(this.type==="dialog"){if("showModal"in this.el){this.el.showModal()}}else{if("showPopover"in this.el&&!this.deprecatedDisableTopLayer){this.el.showPopover()}}}hide(){if(this.type==="dialog"){if("close"in this.el){this.el.close()}}else{if("hidePopover"in this.el&&!this.deprecatedDisableTopLayer){this.el.hidePopover()}}}componentDidLoad(){if(this.open){this.show()}this._eventListenerEstablished=true;this.el.addEventListener("close",this._onClose)}connectedCallback(){if(this._eventListenerEstablished){this.el.addEventListener("close",this._onClose)}}disconnectedCallback(){this.el.removeEventListener("close",this._onClose)}renderAsDialog(){if(this.deprecatedDisableTopLayer){return t("div",{ref:s=>this.el=s,dir:o(),class:r,part:"self",style:{display:this.open?"flex":"none",zIndex:String(this.deprecatedZIndexOverride)||""}},t("slot",null))}return t("dialog",{ref:s=>this.el=s,dir:o(),class:r,part:"self",style:{display:this.open?"flex":"none"}},t("slot",null))}renderAsPopover(){if(this.deprecatedDisableTopLayer){return t("div",{ref:s=>this.el=s,dir:o(),class:r,part:"self",style:{display:this.open?"flex":"none",zIndex:String(this.deprecatedZIndexOverride)||""}},t("slot",null))}return t("div",{ref:s=>this.el=s,dir:o(),class:r,part:"self",popover:"manual",style:{display:this.open?"flex":"none"}},t("slot",null))}render(){return t(e,{key:"edad228a62e2ce7f3077683f75d18888cb4293b7",dir:o(),"ks-overlay":true},this.type==="dialog"&&this.renderAsDialog(),this.type==="popover"&&this.renderAsPopover())}static get watchers(){return{open:["openWatcher"]}}};h.style=l;export{h as ks_overlay};