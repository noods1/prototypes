import{r as o,c as e,h as t,H as s,a as i}from"./p-BVbYP5UG.js";import{c as r}from"./p-BLeWSNPN.js";import{r as n}from"./p-DOsoKeKK.js";import{a,b as p,s as l}from"./p-DQMKCe7v.js";import{S as c}from"./p-DtH7945i.js";import"@oddbird/popover-polyfill";import"./p-B85MJLTf.js";const d=".ks-nux-popover__overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:transparent;z-index:9999;pointer-events:auto;overflow:hidden;inset-block:0;inset-inline:0;inset-block-start:0;inset-inline-start:0}:host{display:inline-block}.ks-nux-popover{padding:var(--ks-spacing-400);width:320px;box-sizing:border-box;display:flex;gap:var(--ks-spacing-400)}.ks-nux-popover__vertical{flex-direction:column}.ks-nux-popover__vertical .ks-nux-popover__img{width:288px;height:160px}.ks-nux-popover__horizontal{flex-direction:row;width:400px;height:246px}.ks-nux-popover__horizontal .ks-nux-popover__img{width:120px;height:214px}.ks-nux-popover .ks-nux-popover__img{border-radius:var(--ks-border-radius-sm);flex-shrink:0;overflow:hidden}.ks-nux-popover .ks-nux-popover__img img{height:100%;width:100%;vertical-align:bottom}.ks-nux-popover .ks-nux-popover__body{display:flex;flex-direction:column;gap:var(--ks-spacing-200)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--content{flex-grow:1}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer{margin-top:var(--ks-spacing-200);position:relative;height:24px}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .page,.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons{position:absolute;height:24px;bottom:0;align-items:center;display:flex;gap:var(--ks-spacing-200)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .page{left:0}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons{right:0}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button{font-size:12px;line-height:16px;font-style:normal;text-align:center;font-family:var(--ks-ref-text-fontFamily-text);letter-spacing:0.161px;font-weight:500;padding:var(--ks-spacing-100) var(--ks-spacing-200);border-radius:var(--ks-border-radius-md);cursor:pointer}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button-text{color:var(--ks-color-support-onFillLow)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button-text:hover{background-color:var(--ks-color-neutral-transparentFillHover)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button-text:active{background-color:var(--ks-color-neutral-transparentFillActive)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button-support{color:var(--ks-color-primary-onFill);background-color:var(--ks-color-support-fill)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button-support:hover{background-color:var(--ks-color-support-fillHover)}.ks-nux-popover .ks-nux-popover__body .ks-nux-popover__body--footer .buttons .button-support:active{background-color:var(--ks-color-support-fillActive)}.ks-nux-popover__loading-icon{display:inline-flex;vertical-align:text-top;color:var(--ks-color-primary-onFill)}";var u=undefined&&undefined.__decorate||function(o,e,t,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(o,e,t,s);else for(var a=o.length-1;a>=0;a--)if(n=o[a])r=(i<3?n(r):i>3?n(e,t,r):n(e,t))||r;return i>3&&r&&Object.defineProperty(e,t,r),r};const b="ks-nux-popover";const h="top";const f=class{onVisibleChange(o){this.innerVisible=o}onInnerVisibleChange(o){if(!this.preventInteraction){return}if(o){this.bodyRef.classList.add("unscrollable")}else{this.bodyRef.classList.remove("unscrollable")}}componentWillLoad(){this.bodyRef=document.querySelector("body")}appendToDocumentBody(){if(this.appendToBody&&!this.isMoved){const o=this.contentSlots?.[0];o&&this.tooltipRef.querySelector('slot[name="content"]')?.replaceChildren(o);document.body.appendChild(this.tooltipRef);this.isMoved=true}}componentDidLoad(){this.innerVisible=this.visible;this.appendToDocumentBody();if(this.innerVisible&&this.preventInteraction){this.bodyRef.classList.add("unscrollable")}}componentDidUpdate(){this.appendToDocumentBody()}disconnectedCallback(){if(this.preventInteraction){this.bodyRef.classList.remove("unscrollable")}if(this.appendToBody&&this.isMoved){if(this.tooltipRef.parentElement===document.body){document.body.removeChild(this.tooltipRef);this.isMoved=false}}}constructor(t){o(this,t);this.ksButtonClick=e(this,"ksButtonClick",1);this.ksVisibleChange=e(this,"ksVisibleChange",1);this["ks-name"]="ks-nux-popover";this.direction="vertical";this.enterDelay=0;this.leaveDelay=0;this.placement=h;this.autoShift=true;this.strategy="fixed";this.gapOffset=0;this.startOffset=0;this.visible=false;this.deprecatedDisableTopLayer=false;this.deprecatedZIndexOverride=1;this.preventInteraction=false;this.appendToBody=false;this.hideOnAnchorExit=false;this.innerVisible=false;this.isMoved=false;n(this.el)}render(){const o=r(`${b}`,`${b}__${this.direction}`);return t(s,{key:"cef8de350bffc1629fcd6567470d5f45ec99dcf8","ks-nux-popover":true},t("ks-tooltip",{key:"4481f296e34a0c9000c9aedd6ee522b2a13cf367",ref:o=>this.tooltipRef=o,deprecatedDisableTopLayer:this.deprecatedDisableTopLayer,deprecatedZIndexOverride:this.deprecatedZIndexOverride,anchorEl:this.anchorEl||this.defaultSlots?.[0],startOffset:this.startOffset,gapOffset:this.gapOffset,strategy:this.strategy,placement:this.placement,autoShift:this.autoShift,enterDelay:this.enterDelay,leaveDelay:this.leaveDelay,hideOnAnchorExit:this.hideOnAnchorExit,color:"var(--ks-color-support-fillLow)",visible:this.visible,onKsVisibleChange:({detail:o})=>{if(o){a(this.el,{eventType:"popup"});p(this.el,{eventType:"popup",reset:true})}else{p(this.el,{eventType:"popup"})}this.ksVisibleChange.emit(o);if(this.visible===undefined){this.innerVisible=o}},"data-testid":"ks-nux-popover-index-mK9k4r"},t("div",{key:"233b652427250a61c786979bb4ac4e430932ecc8",ref:o=>this.tooltipBodyRef=o,class:o,slot:"body"},this.dataSource.image&&t("div",{key:"2c06bada19e78ee7bcea8a0fc07bac60a48e2e87",class:`${b}__img`},t("img",{key:"40fef1b8b3363ece9a95938f065445489ff85d5a",src:this.dataSource.image,alt:""})),t("div",{key:"aefc95ab505fe64b311f10f8cafb3251f2db7153",class:`${b}__body`},this.dataSource.title&&t("div",{key:"a8933deec03d30655cc25554c6a61cc0aeeb2ff8",class:`${b}__body--title`},t("ks-text",{key:"9487d78a2b5bf0739013e89e98b6b8ad922aeb4e",variant:"labelLg",color:"var(--ks-color-neutral-highOnSurface)"},this.dataSource.title)),t("slot",{key:"a0b12e028b5b78af03275ab95ebe4794cfb863ce",name:"content"},this.dataSource.content&&t("div",{key:"8d0efcf4aba41976bf1e02d2981bb02ffe6b2a65",class:`${b}__body--content`},t("ks-text",{key:"c3fa9eab7fc5a35d31e9bffb75972544b82ad544",variant:"labelSm",color:"var(--ks-color-neutral-highOnSurface)"},this.dataSource.content))),(this.dataSource.buttons?.length>0||this.dataSource.total&&this.dataSource.current)&&t("div",{key:"8d25aabf21a61927b42fa9dea89dc1481011813c",class:`${b}__body--footer`},this.dataSource.total&&this.dataSource.current&&t("div",{key:"1cc43229f5373dffe0fb3206467643e4fe37e514",class:"page"},t("ks-text",{key:"0540c2f673014897f24ad950f467c2255f9e712b",variant:"labelSm",color:"var(--ks-color-neutral-highOnSurface)"},`${this.dataSource.current} / ${this.dataSource.total}`)),t("div",{key:"c23962a2fca42071a64de15817c546ace7124e95",class:"buttons"},this.dataSource.buttons?.map((o=>t("div",{onClick:()=>{if(o.loading){return}const e={key:this.dataSource.key,text:o.text,buttonKey:o.key};this.ksButtonClick.emit(e);l(this.el,{eventType:"click",subEventType:"button",componentParams:e})},class:`button-${o.variant} button`,key:o.key,"data-testid":"ks-nux-popover-index-aunGbQ"},o.loading?t("ks-icon-loading",{class:`${b}__loading-icon`,size:14}):o.text))))))),!this.appendToBody&&t("slot",{key:"119d4e3ddf7bc00d48a4b1c744bcea80eef60253"})),this.appendToBody&&t("slot",{key:"c07d69e3bbef2525dc8ca8c9f0cdd47504b846c6"}),this.preventInteraction&&this.innerVisible&&t("div",{key:"86815d04626caa5f568ce3523b38cd6592e12c30",class:`${b}__overlay`}))}get el(){return i(this)}static get watchers(){return{visible:["onVisibleChange"],innerVisible:["onInnerVisibleChange"]}}};u([c({slotname:"_default"})],f.prototype,"defaultSlots",void 0);u([c({slotname:"content"})],f.prototype,"contentSlots",void 0);f.style=d;export{f as ks_nux_popover};