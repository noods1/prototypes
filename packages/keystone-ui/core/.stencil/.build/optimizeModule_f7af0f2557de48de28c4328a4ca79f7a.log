import{r as e,c as t,h as s,H as i,a}from"./p-BVbYP5UG.js";import{t as n,d as o}from"./p-B9Bv72kO.js";import{c as r}from"./p-BLeWSNPN.js";import{r as h}from"./p-DOsoKeKK.js";import{s as d,a as c,b as p}from"./p-DQMKCe7v.js";import{b as l}from"./p-CZoCRgNL.js";import{V as f}from"./p-DTAuyNBn.js";import{t as b}from"./p-C2yhXC4K.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";import"./p-B85MJLTf.js";import"./p-B0FO8VRg.js";import"./p-D53F0nW8.js";const u='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:block}.search__select{min-width:100px;max-width:160px}.search__input{flex-grow:1}.search__disabled #search-icon{color:var(--ks-color-neutral-onSurfaceDisabled)}';var m=undefined&&undefined.__decorate||function(e,t,s,i){var a=arguments.length,n=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,s):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,s,i);else for(var r=e.length-1;r>=0;r--)if(o=e[r])n=(a<3?o(n):a>3?o(t,s,n):o(t,s))||n;return a>3&&n&&Object.defineProperty(t,s,n),n};const y="search";const g=class{constructor(s){e(this,s);this.ksChange=t(this,"ksChange",1);this.ksSearch=t(this,"ksSearch",1);this.ksClear=t(this,"ksClear",1);this.ksCategoryChange=t(this,"ksCategoryChange",1);this["ks-name"]="ks-search";this.disabled=false;this.status="default";this.isInputFocused=false;this.handleInput=({detail:e})=>{this.ksChange.emit(e);b((()=>d(this.el,{eventType:"change",componentParams:{value:e}})),500)};this.handleInputFocus=()=>{this.isInputFocused=true;d(this.el,{eventType:"focus"})};this.handleInputBlur=()=>{this.isInputFocused=false;d(this.el,{eventType:"blur"})};this.onInputKeyup=e=>{if(["Enter","NumpadEnter"].includes(e.code)){this.ksSearch.emit(this.value);d(this.el,{eventType:"confirm",componentParams:{value:this.value}})}};h(this.el)}render(){const e=r(y,{[`${y}__disabled`]:this.disabled});return s(i,{key:"621999115f8656f3da3650f4585d1dbe127769ca",dir:o(),"ks-search":true},s("div",{key:"59da07c666389a5f58dd359cc9be4a1026552848",class:e},s("ks-space",{key:"b293769755bd302a72be275c5eb379f086c2acc3",compact:true},this.categories?.length&&s("ks-input-selector",{key:"c18f769b029c4990120dc97ad1dbe9eab0e18dd4",value:this.selectedCategory,placeholder:this.categoryPlaceholder,disabled:this.disabled,dataSource:{type:"list",items:this.categories.map((({key:e,label:t})=>({type:"single",id:e,content:t,disabled:false})))},width:typeof this.selectWidth==="string"?this.selectWidth:`${this.selectWidth}px`,onKsVisibleChange:({detail:e})=>{if(e){c(this.el,{eventType:"popup",subEventType:"category"});p(this.el,{eventType:"popup",subEventType:"category",reset:true})}else{p(this.el,{eventType:"popup",subEventType:"category"})}},onKsChange:({detail:e})=>{this.ksCategoryChange.emit(e)},"data-testid":"ks-search-index-nT4bhG"}),s("ks-dropdown-menu",{key:"3dd7ed634c013be094db551ce9ea13838c98d942",class:`${y}__input`,visible:Boolean(this.suggestions?.length&&this.isInputFocused),search:e=>e===this.value,dataSource:{type:"list",items:this.suggestions?.map((e=>({type:"single",content:e,id:e,disabled:false})))??[]},searchValue:this.value,onKsVisibleChange:({detail:e})=>{if(e){c(this.el,{eventType:"popup",subEventType:"suggestion"});p(this.el,{eventType:"popup",subEventType:"suggestion",reset:true})}else{p(this.el,{eventType:"popup",subEventType:"suggestion"})}},selectable:false,onKsValueChange:({detail:e})=>{const t=e[0].content;this.ksChange.emit(t);d(this.el,{eventType:"change",subEventType:"suggestion",componentParams:{value:t}})},"data-testid":"ks-search-index-cGeD77"},s("ks-input",{key:"3ab1a9b4ff3c45a9eb87fd84775b453326bc9a4b",ref:e=>this.ksInputEl=e,value:this.value,placeholder:this.placeholder||n(l.placeholder),status:this.status,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,disabled:this.disabled,onKsChange:this.handleInput,onKeyUp:this.onInputKeyup,onKsClear:()=>{this.ksClear.emit()},clearable:this.clearable,"data-testid":"ks-search-index-muL9Zv"},!this.isInputFocused&&!this.value&&!this.ksInputEl?.inputEl?.value&&s("ks-icon-search",{key:"f78249d8e10a87a65f06778d1ab3439b63f11a93",id:"search-icon",size:16,slot:"prefix"}))))))}get el(){return a(this)}};m([f()],g.prototype,"value",void 0);g.style=u;export{g as ks_search};