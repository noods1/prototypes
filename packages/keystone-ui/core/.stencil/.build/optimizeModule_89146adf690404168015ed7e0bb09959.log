import{r as e,c as t,h as i,H as s,a}from"./p-BVbYP5UG.js";import{a as r}from"./p-Ou74PMQs.js";import{i as n,d as o,t as d}from"./p-B9Bv72kO.js";import{S as l}from"./p-DtH7945i.js";import{r as h}from"./p-DOsoKeKK.js";import{a as c,b as f,s as p}from"./p-DQMKCe7v.js";import{c as b}from"./p-CZoCRgNL.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";const u='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{--ks-comp-color-overlay-mask:rgba(38, 38, 39, 0.5)}.drawer{z-index:1;position:fixed;outline:none}.drawer--md{width:944px}.drawer--lg{width:1152px}.drawer--left{top:0;left:0;bottom:0}.drawer--left .drawer__side--absolute{left:100%}.drawer--left .drawer__side--absolute .drawer__close::part(self){border-top-left-radius:0;border-bottom-left-radius:0}.drawer--right{top:0;right:0;bottom:0}.drawer--right .drawer__side--absolute{right:100%}.drawer--right .drawer__side--absolute .drawer__close::part(self){border-top-right-radius:0;border-bottom-right-radius:0}.drawer{transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.drawer__underlay{height:100vh;inline-size:100vw;block-size:-webkit-fill-available;pointer-events:none;z-index:1;justify-content:center;align-items:center;display:flex;position:fixed;inset-block-start:0;inset-inline-start:0;opacity:0;transition-property:opacity;transition-duration:200ms;transition-timing-function:var(--ks-transition-easing-standardInOut)}.drawer__underlay[visible]{pointer-events:auto;opacity:1}.drawer__mask{position:fixed;inset-block:0;inset-inline:0;left:0;top:0;background-color:var(--ks-comp-color-overlay-mask);z-index:1;opacity:0}.drawer__wrapper{width:100%;height:100%;display:flex;box-sizing:border-box;padding-bottom:0;box-shadow:var(--ks-elevation-shadow-level3);background-color:var(--ks-color-neutral-surface)}.drawer__panel{flex:1;display:flex;flex-direction:column}.drawer__header{display:flex;justify-content:space-between;align-items:center;padding:var(--ks-spacing-600);column-gap:var(--ks-spacing-600);font-size:var(--ks-text-headlineMd-fontSize);line-height:var(--ks-text-headlineMd-lineHeight);font-weight:var(--ks-text-headlineMd-fontWeight);letter-spacing:var(--ks-text-headlineMd-letterSpacing);font-family:var(--ks-text-headlineMd-fontFamily)}.drawer__body{flex:1;overflow:hidden;overflow-y:auto;padding:var(--ks-spacing-600);background-color:var(--ks-color-neutral-surface3)}.drawer__footer{display:flex;justify-content:space-between;align-items:center;padding:var(--ks-spacing-600)}.drawer__footer__btns{display:flex;gap:var(--ks-spacing-200)}.drawer__footer__other{flex:1}.drawer__side-nav{height:100%;display:flex;flex-direction:column;padding:var(--ks-spacing-400) var(--ks-spacing-200);background-color:var(--ks-color-neutral-surface);border-right:1px solid var(--ks-color-neutral-fillLow);justify-content:space-between}.drawer__side-nav-top{display:flex;flex-direction:column;row-gap:var(--ks-spacing-400);align-items:center}.drawer__side--absolute{top:0;position:absolute}.drawer--expanded{width:100%}';var k=undefined&&undefined.__decorate||function(e,t,i,s){var a=arguments.length,r=a<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)if(n=e[o])r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r;return a>3&&r&&Object.defineProperty(t,i,r),r};const m="drawer";const v=class{setTooltipFor(e,t=0){if(!this.tooltipAnimating){this.expandTooltipVisible=e}this.tooltipAnimating=true;setTimeout((()=>{this.tooltipAnimating=false}),t)}watchVisible(e){e?this.open():this.close("manual")}get innerPlacement(){if(["left","right"].includes(this.placement)&&n()){return this.reversePlacement[this.placement]}else{return this.placement}}async open(){if(this.innerVisible){return}if(await(this.beforeOpen?.())===false){return}await this.visibleByAnime(true);await(this.afterOpen?.());c(this.el,{eventType:"popup"});f(this.el,{eventType:"popup",reset:true})}async close(e="manual"){if(!this.innerVisible){return}if(e!=="manual"){if(await(this.beforeClose?.(e))===false){return}}await this.visibleByAnime(false);this.ksClose.emit(e);await(this.afterClose?.(e));f(this.el,{eventType:"popup"})}async expand(e){if(!this.innerVisible){return}this.ksExpandChange.emit(e)}constructor(s){e(this,s);this.ksConfirm=t(this,"ksConfirm",1);this.ksCancel=t(this,"ksCancel",1);this.ksClose=t(this,"ksClose",1);this.ksExpandChange=t(this,"ksExpandChange",1);this["ks-name"]="ks-drawer";this.reversePlacement={left:"right",right:"left"};this.placementIcon={left:i("ks-icon-chevron-right",null),right:i("ks-icon-chevron-left",null)};this.visible=false;this.size="md";this.withSideNav=false;this.mask=true;this.maskClosable=true;this.confirmable=true;this.cancelable=true;this.placement="right";this.confirmDisabled=false;this.cancelDisabled=false;this.noHeader=false;this.noFooter=false;this.isTopLayer=false;this.expandable=false;this.allowBackgroundInteraction=false;this.deprecatedDisableTopLayer=false;this.deprecatedZIndexOverride=0;this.innerVisible=this.visible;this.confirmLoading=false;this.cancelLoading=false;this.expanded=false;this.expandTooltipVisible=false;this.tooltipAnimating=false;h(this.el)}async confirmHandler(){this.confirmLoading=true;this.ksConfirm.emit();await this.close("confirm");this.confirmLoading=false;p(this.el,{eventType:"confirm"})}async closeHandler(){this.cancelLoading=true;this.ksCancel.emit();await this.close("close");this.cancelLoading=false;p(this.el,{eventType:"close"})}async expandHandler(){this.expanded=!this.expanded;await this.expand(this.expanded)}async cancelHandler(){this.cancelLoading=true;this.ksCancel.emit();await this.close("cancel");this.cancelLoading=false;p(this.el,{eventType:"cancel"})}visibleByAnime(e){const t=this.innerPlacement==="left"?"-100%":"100%";const i={md:350,lg:400};return new Promise((s=>{const a=r.timeline({targets:this.underlayRef,begin:()=>{if(e){this.underlayRef.setAttribute("visible","");this.innerVisible=true}},complete:()=>{if(!e){this.underlayRef.removeAttribute("visible");this.innerVisible=false}s(e)}});a.add({targets:this.drawerRef,duration:i[this.size],easing:e?"cubicBezier(0.4, 0, 0.2, 1)":"cubicBezier(0.32, 0, 0.67, 0)",translateX:e?[{value:t},{value:"0"}]:t},0);if(this.maskRef){a.add({targets:this.maskRef,duration:200,easing:"cubicBezier(0.4, 0, 0.2, 1)",opacity:e?[{value:0},{value:1}]:0},0)}}))}componentDidLoad(){this.visible?this.open():this.close("manual")}get styles(){return{width:`calc(100vw - ${Number(this.left)}px - ${Number(this.right)}px)`,height:`calc(100vh - ${Number(this.top)}px - ${Number(this.bottom)}px)`,left:`${Number(this.left)}px`,top:`${Number(this.top)}px`,transform:`translateX(${this.innerVisible?"0":this.innerPlacement==="left"?"-100%":"100%"})`}}renderDrawerSide(){const e=i("ks-button",{class:`${m}__close`,variant:"secondary",shape:"square",loading:this.cancelLoading,disabled:this.cancelDisabled,onClick:this.closeHandler.bind(this),"data-testid":"ks-drawer-index-d44ASF"},i("ks-icon-close",null));const t=i("ks-tooltip",{placement:"top-start",highLight:true,visible:this.expandTooltipVisible,content:this.expandTooltipVisible?this.expanded?"Collapse":"Expand":"",enterDelay:0,leaveDelay:0},i("ks-button",{class:`${m}__expand`,variant:"text",shape:"square",onClick:this.expandHandler.bind(this),onPointerDown:()=>this.setTooltipFor(false,300),onPointerEnter:()=>this.setTooltipFor(true,70),onPointerLeave:()=>this.setTooltipFor(false,70),"data-testid":"ks-drawer-index-6wwsQv"},this.expanded?i("ks-icon-fold",null):i("ks-icon-unfold",null)));if(!this.withSideNav){return e}return i("div",{class:`${m}__side-nav`},i("div",{class:`${m}__side-nav-top`},e,i("slot",{name:"sideNav"})),this.expandable&&t)}render(){const e=`${m} ${m}--${this.size} ${m}--${this.innerPlacement} ${this.expanded?`${m}--expanded`:""}`;const t=this.noHeader||!this.titleText&&!this.headerSlots?.length;return i(s,{key:"f65d672ed7d4802759581cdf2c198443fd546bd9",dir:o(),"ks-drawer":true},i("ks-overlay",{key:"65a43ddbe3e7d1e9ab60a0dc4a08652868f0c24c",type:this.isTopLayer&&!this.allowBackgroundInteraction?"dialog":"popover",open:this.innerVisible,onClose:this.close.bind(this),"data-testid":"ks-drawer-index-aGYroL",deprecatedDisableTopLayer:this.deprecatedDisableTopLayer,deprecatedZIndexOverride:this.deprecatedZIndexOverride},i("div",{key:"10feca8c59137ec9e406524663ab0e66d8db485b",ref:e=>this.underlayRef=e,class:`${m}__underlay`,style:{left:this.styles.left,top:this.styles.top,width:this.allowBackgroundInteraction?"fit-content":""}},this.mask&&!this.allowBackgroundInteraction&&i("div",{key:"77c8c7142db0671aba5a5fccfce74b65b832fa3f",ref:e=>this.maskRef=e,part:"mask",class:{[`${m}__mask`]:true,[`${m}__mask--visible`]:this.innerVisible},style:{left:this.styles.left,top:this.styles.top},onClick:()=>{this.maskClosable&&!this.cancelDisabled&&this.closeHandler()},"data-testid":"ks-drawer-index-nidsTB"}),i("div",{key:"c7a4bdf0b1343b5606e35e91bebf50399fe1a95e",dir:o(),ref:e=>this.drawerRef=e,class:e,part:"self",style:this.styles},i("slot",{key:"6e7133fa6b95189a9719f97af73c848018d26ba5",name:"wrapper"},i("div",{key:"38f5c93ad15c86840df72084bc0655397510e441",class:`${m}__wrapper`,style:this.noFooter?{paddingBottom:"0"}:null,part:"wrapper"},i("div",{key:"4f087ea0f878ec2bdf654aea49725e4f8d30325c",class:{[`${m}__side`]:true,[`${m}__side--absolute`]:!this.withSideNav},part:"side"},this.renderDrawerSide()),i("div",{key:"5e57aec20cca39b316d62e1e693ade125570ebd0",class:`${m}__panel`},!t&&i("slot",{key:"35276422f79ff41c8222a1b31c2d9ae62d29edce",name:"header"},i("div",{key:"23867b53eb0992cbda793fcbb54019b9a691c261",class:`${m}__header`,part:"header"},this.titleText)),i("slot",{key:"07fe84698bbace21cd5e218dbc1368c5ab44f8b9",name:"body"},i("div",{key:"a249b2d62b295c894241d5f761bcc5bd10dee65b",class:`${m}__body`,part:"body"},i("slot",{key:"386fe14b5ade8e06a4446745f7afdf1f52dfefff"}))),!this.noFooter&&i("slot",{key:"3bd292d98476f850a8a3f801641937333da65550",name:"footer"},i("div",{key:"cdbd9a6d367954ea719f6289e141d5af87ab49e4",class:`${m}__footer`,part:"footer"},i("div",{key:"a17b93082ba135c82c686a9cd6f95af9189d8e90",class:`${m}__footer__other`},i("slot",{key:"e264691ca305b474c81bb257b210198df8a4f1a6",name:"footer-other"})),i("div",{key:"378bc4c8b1ee592219d3132f02d3a7762ffc4c20",class:`${m}__footer__btns`},this.cancelable&&i("ks-button",{key:"2adeda6b9c96afc5cc0649e607338d97ca12e7a3",variant:"tertiary",disabled:this.cancelDisabled,loading:this.cancelLoading,onClick:this.cancelHandler.bind(this),"data-testid":"ks-drawer-index-bpufRo"},i("slot",{key:"d4d4bd2f8142d63801b97a07dd1a2de1a3fe9e89",name:"cancel-btn"},this.cancelText??d(b.cancel))),this.confirmable&&i("ks-button",{key:"59f061a70bc4a807e805849383e22eeb504b4dc3",variant:"primary",disabled:this.confirmDisabled,loading:this.confirmLoading,onClick:this.confirmHandler.bind(this),"data-testid":"ks-drawer-index-4mnZ2Y"},i("slot",{key:"9b16b9b0fb6361a1a7312e9a2abca3ab17353477",name:"confirm-btn"},this.confirmText??d(b.confirm)))))))))))))}get el(){return a(this)}static get watchers(){return{visible:["watchVisible"]}}};k([l({slotname:"header"})],v.prototype,"headerSlots",void 0);v.style=u;export{v as ks_drawer};