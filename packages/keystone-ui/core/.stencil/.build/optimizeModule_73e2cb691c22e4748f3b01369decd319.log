import{r as e,c as t,h as i,H as r,a as n}from"./p-BVbYP5UG.js";import{c as o}from"./p-BLeWSNPN.js";import{S as s}from"./p-DtH7945i.js";import{f as a,h as l,d,t as f}from"./p-B9Bv72kO.js";import{V as c}from"./p-DTAuyNBn.js";import{a as h}from"./p-CZoCRgNL.js";import{F as p}from"./p-C5l2lh22.js";import{U as u}from"./p-BqDz6OPB.js";import{s as b}from"./p-DQMKCe7v.js";import{s as x}from"./p-YH3rDUet.js";import{F as _}from"./p-CkSrI1o0.js";import{t as m}from"./p-C2yhXC4K.js";import"@oddbird/popover-polyfill";import"./p-B85MJLTf.js";import"./p-BpTTFEEs.js";import"./p-lK2WYNKL.js";import"./p-BKnx-nkd.js";import"./p-B7eN8IFF.js";import"./p-DXVWym72.js";import"./p-3aNLeb18.js";import"./p-D53F0nW8.js";import"./p-B0FO8VRg.js";const k='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:inline-block;width:100%}.text-field__wrapper{width:100%;display:inline-flex;position:relative}.text-field__wrapper[dir=ltr] .text-field__suffix{right:var(--ks-spacing-300)}.text-field__wrapper[dir=rtl] .text-field__suffix{left:var(--ks-spacing-300)}.text-field__inner{width:100%;display:inline-flex;border:1px solid var(--ks-color-neutral-fillLow);border-radius:var(--ks-border-radius-md);box-sizing:border-box;transition:all ease-in-out 0.1s;background:var(--ks-color-neutral-surface);padding-top:calc(var(--ks-spacing-200) - 1px);padding-bottom:calc(var(--ks-spacing-200) - 1px);padding-left:var(--ks-spacing-300)}.text-field__inner__column{display:flex;flex-direction:column;width:100%;gap:var(--ks-spacing-100)}.text-field__inner:not(.text-field__inner--disabled):active,.text-field__inner--focus:not(.text-field__inner--disabled){border-color:var(--ks-color-primary-fill)}.text-field__inner:not(.text-field__inner--disabled):active>.text-field__clear,.text-field__inner--focus:not(.text-field__inner--disabled)>.text-field__clear{display:flex}.text-field__inner>.text-field__clear{display:none;cursor:pointer;color:var(--ks-color-neutral-onFill)}.text-field__inner--disabled{border:1px solid var(--ks-color-neutral-fillDisabled);cursor:not-allowed;box-shadow:none;outline:none;color:var(--ks-color-neutral-onSurfaceDisabled);background-color:var(--ks-color-neutral-surface1);-webkit-text-fill-color:var(--ks-color-neutral-onSurfaceDisabled)}.text-field__inner--disabled>.text-field{cursor:not-allowed}.text-field__inner--disabled .text-field__count--default,.text-field__inner--disabled .text-field{color:var(--ks-color-neutral-onSurfaceDisabled)}.text-field__inner--warning:not(.text-field__inner--disabled){border-color:var(--ks-color-warning-fill)}.text-field__inner--warning:not(.text-field__inner--disabled):hover{border-color:var(--ks-color-warning-fillHover)}.text-field__inner--warning:not(.text-field__inner--disabled).text-field__inner--focus{border-color:var(--ks-color-warning-fillActive)}.text-field__inner--error:not(.text-field__inner--disabled){border-color:var(--ks-color-error-fill)}.text-field__inner--error:not(.text-field__inner--disabled):hover{border-color:var(--ks-color-error-fillHover)}.text-field__inner--error:not(.text-field__inner--disabled).text-field__inner--focus{border-color:var(--ks-color-error-fillActive)}.text-field{position:relative;word-break:break-word;outline:none;color:var(--ks-color-neutral-highOnSurface);background-color:transparent;border:none;padding:0;flex:1;font-size:var(--ks-text-bodySm-fontSize);line-height:var(--ks-text-bodySm-lineHeight);font-weight:var(--ks-text-bodySm-fontWeight);letter-spacing:var(--ks-text-bodySm-letterSpacing);font-family:var(--ks-text-bodySm-fontFamily)}.text-field[type=number]::-webkit-inner-spin-button,.text-field[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.text-field[type=number]{-moz-appearance:textfield}.text-field::placeholder{color:var(--ks-color-neutral-onSurfaceDisabled)}.text-field__count--default{text-align:end;color:var(--ks-color-neutral-onSurface);font-variant-numeric:lining-nums tabular-nums;font-size:var(--ks-text-labelSm-fontSize);line-height:var(--ks-text-labelSm-lineHeight);font-weight:var(--ks-text-labelSm-fontWeight);letter-spacing:var(--ks-text-labelSm-letterSpacing);font-family:var(--ks-text-labelSm-fontFamily)}.text-field__count--default--error{color:var(--ks-color-error-onSurface)}.text-field__addon{display:flex;align-items:center;font-size:inherit;color:inherit;position:relative;color:var(--ks-color-neutral-onSurface);font-size:var(--ks-text-bodySm-fontSize);line-height:var(--ks-text-bodySm-lineHeight);font-weight:var(--ks-text-bodySm-fontWeight);letter-spacing:var(--ks-text-bodySm-letterSpacing);font-family:var(--ks-text-bodySm-fontFamily)}.text-field__clear{margin-left:8px}.text-field__prefix{margin-right:8px}.text-field__suffix{position:absolute;top:0;bottom:0}';var g=undefined&&undefined.__decorate||function(e,t,i,r){var n=arguments.length,o=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,s;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)if(s=e[a])o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o;return n>3&&o&&Object.defineProperty(t,i,o),o};const v="text-field";const y=20;const S=class extends _{constructor(i){super();e(this,i);this.ksChange=t(this,"ksChange",1);this.ksClick=t(this,"ksClick",1);this.ksFocus=t(this,"ksFocus",1);this.ksBlur=t(this,"ksBlur",1);this.ksKeydownEnter=t(this,"ksKeydownEnter",1);this["ks-name"]="ks-input-text-field";this.resize="none";this.isFocus=false;this.composition=false;this.selection=[null,null];this.handleInput=e=>{if(this.disabled||this.composition){return}const t=e.target.value;this.selection=[this.inputEl.selectionStart,this.inputEl.selectionEnd];this.internalValueState=t;m((()=>b(this.el,{eventType:"change",componentParams:{value:t}})),500)};this.handleFocus=e=>{this.isFocus=true;this.ksFocus?.emit(e)};this.handleBlur=e=>{this.isFocus=false;this.ksBlur?.emit(e)}}connectedCallback(){super.connectedCallback?.()}get count(){return typeof this.showCount==="function"?this.showCount(this.internalValueState||""):this.internalValueState?[...this.internalValueState].length:0}async focusInput(){this.inputEl.focus();this.isFocus=true}async blurInput(){this.inputEl.blur();this.isFocus=false}handleSelectionChange(){this.inputEl?.setSelectionRange?.(...this.selection)}syncValue(){if(this.inputEl&&this.inputEl.value!==this.internalValueState&&!this.composition){this.inputEl.value=this.internalValueState||""}}handleInternalValueStateChange(){this.syncValue();this.autoResizeTextarea()}componentDidRender(){x(this.el,(()=>this.syncValue()));this.resizePaddingRight()}componentDidLoad(){this.handleInternalValueStateChange()}resizePaddingRight(){const e=this.suffixSlot?a(this.suffixSpanEl.offsetWidth+20):"var(--ks-spacing-300)";this.inputEl.style.paddingRight=e;this.showCount&&(this.countContainerEl.style.paddingRight=e)}autoResizeTextarea(){if(!this.inputEl){return}const e=16;const t=this.showCount?y:0;const i={};this.innerEl.style.height="20px";if(typeof this.height==="object"){const{min:r=20+e+t,max:n=40+e+t}=this.height;i["minHeight"]=a(l(r)-e);i["maxHeight"]=a(l(n)-e);i["height"]=a(this.inputEl.scrollHeight+t)}else if(this.height){i["height"]=a(l(this.height)-e)}else{i["height"]=a(Math.min(40,this.inputEl.scrollHeight)+t)}Object.assign(this.innerEl.style,i)}render(){const e=this.showCount||typeof this.maxLength==="number"&&this.showCount!==false;const t=e&&this.maxLength&&this.maxLength<[...this.inputEl?.value||""].length?"error":this.status;const n=o(`${v}__wrapper`,{[`${v}__wrapper--disabled`]:this.disabled});return i(r,{key:"a9e0af2318c212c12dd9fdf9f2d5a7953d974536",dir:d(),"ks-textarea":true},i("span",{key:"23dffabec256eaf6e3b453beae13f5545cfdf144",dir:d(),class:n},i("label",{key:"c0f2b9a49dd9ec700d73e600fd03e4f145402f4a",class:o(`${v}__inner`,{[`${v}__inner--focus`]:this.isFocus,[`${v}__inner--disabled`]:this.disabled,[`${v}__inner--${t}`]:t})},this.prefixSlot&&i("span",{key:"fdd1a6afbca90332cd78114e07182d1ce5327f60",class:o(`${v}__prefix`,`${v}__addon`),part:"prefix"},i("slot",{key:"623fa7993bf7915f5f4fd3017d225c8f3ce22f9a",name:"prefix"})),i("div",{key:"541d895ff89d495e8e5eefeeb17dc8b403d5e0fa",ref:e=>this.innerEl=e,class:`${v}__inner__column`},i("textarea",{key:"95d8a16ac73c5abd1b97ad96e7350146dea47a64",part:"textarea",class:o(v),ref:e=>this.inputEl=e,autoFocus:this.autoFocus,readOnly:this.readOnly,autoComplete:this.autoComplete,disabled:this.disabled,placeholder:this.placeholder||f(h.placeholder),onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleInput,onCompositionstart:()=>{this.composition=true},onCompositionend:e=>{this.composition=false;this.handleInput(e)},onClick:e=>{if(!this.disabled){this.ksClick.emit(e)}},onKeyDown:e=>{if(e.key==="Enter"){this.ksKeydownEnter.emit(e)}},style:{resize:this.resize},"data-testid":"ks-text-field-index-aZM5M2"}),e&&i("div",{key:"c1d30459a6df73dbd9412a7b7a7d4ba4efda6a31",class:`${v}__count`,ref:e=>this.countContainerEl=e},i("div",{key:"de98438c9ef1c1dfed649555ebb0571c6a954db2",class:o(`${v}__count--default`,{[`${v}__count--default--error`]:typeof this.maxLength==="number"&&this.maxLength<this.count})},this.count+(typeof this.maxLength==="number"?`/${this.maxLength}`:"")))),this.suffixSlot&&i("span",{key:"d2155ea8e66101ffdd36357f3f5bff8db500db2a",ref:e=>this.suffixSpanEl=e,class:o(`${v}__suffix`,`${v}__addon`),part:"suffix"},i("slot",{key:"3dcda85c882c9f69cef02ca364d74f6e3ee28484",name:"suffix"})))))}static get delegatesFocus(){return true}get el(){return n(this)}static get watchers(){return{selection:["handleSelectionChange"],internalValueState:["handleInternalValueStateChange"]}}};g([c(),p()],S.prototype,"value",void 0);g([u("value","defaultValue","ksChange")],S.prototype,"internalValueState",void 0);g([p()],S.prototype,"disabled",void 0);g([p()],S.prototype,"status",void 0);g([s({slotname:"suffix"})],S.prototype,"suffixSlot",void 0);g([s({slotname:"prefix"})],S.prototype,"prefixSlot",void 0);S.style=k;export{S as ks_text_field};