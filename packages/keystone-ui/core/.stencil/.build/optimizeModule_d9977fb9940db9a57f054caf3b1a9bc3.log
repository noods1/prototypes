import{r as t,c as i,h as s,H as e,a as o}from"./p-BVbYP5UG.js";import{d as a}from"./p-O1A-ZSZs.js";import{S as n}from"./p-DtH7945i.js";import{t as h,d as r}from"./p-B9Bv72kO.js";import{a as d}from"./p-B29l_iU6.js";import{s as c}from"./p-BpTTFEEs.js";import{i as l}from"./p-H-KPsjGO.js";import{d as f}from"./p-CqdmgBk0.js";import{V as m}from"./p-DTAuyNBn.js";import{d as p,c as b}from"./p-CZoCRgNL.js";import"@oddbird/popover-polyfill";import"./p-BsdBppw3.js";import"./p-B85MJLTf.js";const u='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{width:fit-content;display:block}[slot=footer]{display:flex;gap:var(--ks-spacing-100)}';var k=undefined&&undefined.__decorate||function(t,i,s,e){var o=arguments.length,a=o<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,s):e,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,i,s,e);else for(var h=t.length-1;h>=0;h--)if(n=t[h])a=(o<3?n(a):o>3?n(i,s,a):n(i,s))||a;return o>3&&a&&Object.defineProperty(i,s,a),a};const y="MMMM d, yyyy HH:mm:ss";const g="00:00:00";const v=()=>false;const H=class{constructor(s){t(this,s);this.ksChange=i(this,"ksChange",1);this.ksShow=i(this,"ksShow",1);this.ksHide=i(this,"ksHide",1);this.ksVisibleChange=i(this,"ksVisibleChange",1);this.placement="bottom-start";this.format=y;this.showHour=true;this.showMinute=true;this.showSecond=false;this.minuteStep=1;this.hourStep=1;this.secondStep=1;this.timeZoneDisplayPosition="picker";this.clearable=true;this.valueTime=g;this.isVisible=false}get locale(){return c.state.config.locale}valueWatcher(t){if(typeof t==="string"){if(t===""){this.valueDate=undefined;this.valueTime=g;this.dateTimeValue=""}else{this.valueDate=f(t).toDate();const i=f(t).hour();const s=f(t).minute();const e=f(t).second();const o=t=>String(t).padStart(2,"0");this.valueTime=`${o(i)}:${o(s)}:${o(e)}`}}else if(t instanceof Date){this.valueDate=t;this.valueTime=a.format(t,"HH:mm:ss")}else{this.valueDate=new Date(t);this.valueTime=a.format(new Date(t),"HH:mm:ss")}this.formatValueDisplay()}handleValueChange(t){if(this.value===undefined){this.dateTimeValue="";this.valueDate=t.detail;this.valueTime=g}this.ksChange.emit?.("");this.popperRef?.close?.()}get timeZoneToday(){const{timezoneOffset:t}=c.state.i18n;const i=new Date;const s=(i.getTimezoneOffset()+t)*60*1e3;const e=new Date(i.getTime()+s);return e}setToday(){const t=this.timeZoneToday;this.valueDate=t;this.dateTimePanelEl.setActiveDate(t);this.valueTime=a.format(t,"HH:mm:ss");if(this.value===undefined){this.formatValueDisplay()}this.ksChange.emit?.(this.valueDate?a.format(this.valueDate,this.format):this.valueDate)}formatDate(t){return a.parse(this.valueTime,"HH:mm:ss",t)}formatValueDisplay(){if(!this.valueDate){return}if(!this.format||this.format===y){this.dateTimeValue=this.valueDate&&d(a.parse(this.valueTime,"HH:mm:ss",this.valueDate),this.locale)}else{this.dateTimeValue=this.valueDate&&a.format(a.parse(this.valueTime,"HH:mm:ss",this.valueDate),this.format)}}componentWillLoad(){const t=d(a.parse("23:00:00","HH:mm:ss",new Date),this.locale);this.isHour12=this.format&&this.format!==y?this.format.includes("a"):/pm|am/i.test(t);if(this.value){this.valueWatcher(this.value)}}render(){return s(e,{key:"821e08c03df780e9ef4e8b2ee63ee2fe9803c4d1",dir:r(),"ks-date-time-picker":true},s("ks-picker-base",{key:"88e38c3a7edc619a6e8cb85e62c2c11edd5d7873",exportparts:"field: field",timeZoneDisplayPosition:this.timeZoneDisplayPosition,timezone:this.timezone,longTimezone:this.longTimezone,placement:this.placement,width:this.width,placeholder:h(p.placeholder),startPlaceholder:h(p.start),endPlaceholder:h(p.end),status:this.status,onKsShow:()=>{this.ksShow?.emit?.();this.ksVisibleChange.emit(true);this.isVisible=true;this.dateTimePanelEl?.timePanelScrolltoTime()},onKsHide:()=>{this.ksVisibleChange.emit(false);this.isVisible=false;this.ksHide?.emit?.()},clearable:this.clearable,disabled:this.disabled,onKsChange:t=>{this.handleValueChange(t)},value:this.dateTimeValue,popoverRef:t=>this.popperRef=t,readonly:true,"data-testid":"day-day-time-picker-ky5bJs"},this.showIconSlot&&s("slot",{key:"95842128524bddac1d844e66e5a36adc806e0e9f",name:"show-icon",slot:"show-icon"}),this.suffixSlot&&s("slot",{key:"ec9e4570a673f1a6bce2be0d9cbb8c5317dd2b21",name:"suffix",slot:"suffix"}),this.closeIconSlot&&s("slot",{key:"a07e97c645b1dbaefa9c30c33e1b3dd5c2aad726",name:"close-icon",slot:"close-icon"}),this.prefixSlot&&s("slot",{key:"5c8f8d5e8d702dba3340b825b82b1823ab845478",slot:"prefix",name:"prefix"}),s("ks-date-time-panel",{key:"1d6614cf06bbccfa6d8ac8ad7e46242feb853ecd",ref:t=>this.dateTimePanelEl=t,disabledDate:this.isVisible?this.disabledDate:v,onKsDateChange:t=>{const i=this.formatDate(t.detail[0]);if(this.value===undefined){this.valueDate=i;this.formatValueDisplay()}this.ksChange.emit?.(a.format(i,this.format))},onKsTimeChange:t=>{const i=t.detail;const s=this.valueDate&&a.parse(i,"HH:mm:ss",this.valueDate);if(this.value===undefined){this.valueTime=i;this.valueDate=s;this.formatValueDisplay()}s&&this.ksChange.emit?.(a.format(s,this.format))},value:this.valueDate,isHour12:this.isHour12,disabledAm:this.disabledAm,disabledHours:this.isVisible?this.disabledHours:v,disabledMinutes:this.isVisible?this.disabledMinutes:v,disabledSeconds:this.isVisible?this.disabledSeconds:v,hourStep:this.hourStep,minuteStep:this.minuteStep,secondStep:this.secondStep,showHour:this.showHour,showMinute:this.showMinute,showSecond:this.showSecond,"data-testid":"day-day-time-picker-idFkcy"},this.presetSlot&&s("div",{key:"12b3a972cf78cae8d01a777f13885401f290a7a5",slot:"preset"},s("slot",{key:"33e9948895acbf837c81c985d05204d57e64ff47",name:"preset"}))),s("slot",{key:"518869e3aae246d91b9c5d1221641697f83256b6",name:"footer",slot:"footer"},s("ks-button",{key:"9369ae9eae5e787fc8a7bb0ddec0a4d66cc81082",size:"sm",onClick:()=>{this.setToday()},"data-testid":"day-day-time-picker-n3roRv"},l(0,"days",this.locale)),s("ks-button",{key:"9bb0f620c734cfa437793aca4f2318dfb4dc73b0",variant:"primary",size:"sm",onClick:()=>{this.popperRef.close()},"data-testid":"day-day-time-picker-m1iCYw"},h(b.confirm)))))}get el(){return o(this)}static get watchers(){return{value:["valueWatcher"]}}};k([n({slotname:"preset"})],H.prototype,"presetSlot",void 0);k([n({slotname:"show-icon"})],H.prototype,"showIconSlot",void 0);k([n({slotname:"close-icon"})],H.prototype,"closeIconSlot",void 0);k([n({slotname:"suffix"})],H.prototype,"suffixSlot",void 0);k([n({slotname:"prefix"})],H.prototype,"prefixSlot",void 0);k([m()],H.prototype,"value",void 0);H.style=u;export{H as ks_date_time_picker};