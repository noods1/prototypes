import{r as t,c as e,h as i,H as s}from"./p-BVbYP5UG.js";import{d as a}from"./p-O1A-ZSZs.js";import{s as n}from"./p-BpTTFEEs.js";import{d as r}from"./p-B9Bv72kO.js";import{u as o}from"./p-BsdBppw3.js";import{I as d}from"./p--5e5wlxs.js";import"@oddbird/popover-polyfill";import"./p-H-KPsjGO.js";const h='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:block}.calendar{width:100%;overflow:hidden;border-radius:var(--ks-border-radius-md);box-shadow:var(--ks-elevation-shadow-level1);background-color:var(--ks-color-neutral-surface);border:1px solid var(--ks-color-neutral-fillLow)}.calendar--year .calendar__container{padding:var(--ks-spacing-100) var(--ks-spacing-200)}';const l="calendar";const c=class{constructor(i){t(this,i);this.ksMonthChange=e(this,"ksMonthChange",1);this.ksSelect=e(this,"ksSelect",1);this["ks-name"]="ks-calendar";this.year=a.getYear(Date.now());this.month=a.getMonth(Date.now());this.viewMode="month";this.range=false;this.events=[];this.renderContent=[]}static __internal_renderDynamicSlots(t,e){return d(t,e)}get selectedDate(){if(!this.range){return[this.startDate]}return this.startDate&&this.endDate?[this.startDate,this.endDate]:this.startDate?[this.startDate]:[]}handleClickDay({detail:t}){if(this.startDate&&this.endDate){this.startDate=t;this.endDate=undefined}else if(this.startDate&&a.isAfter(t,this.startDate)){this.ksSelect.emit({start:this.startDate,end:t});this.endDate=t}else{this.startDate=t}}renderSlot(){return this.renderContent?.map((t=>{const e=`slot-content-${t.date.getTime()}`;return i("slot",{key:e,name:e,slot:e,"data-testid":`ks-calendar-index-gskf28-${e}`})}))}render(){const t={[l]:true,[`${l}--year`]:this.viewMode==="year",[`${l}--month`]:this.viewMode==="month"};const e=n.state.config.locale||"en-US";const d=o(Intl.DateTimeFormat(e,this.viewMode==="month"?{month:"short",year:"numeric"}:{year:"numeric"}).format(new Date(this.year,this.month)),e);return i(s,{key:"aed565104b38e9be72564d58ee7c655bce6678f5",dir:r(),"ks-calendar":true},i("div",{key:"0106e90f8ba0d450726003539a37939f1cbe87f9",dir:r(),class:t},i("slot",{key:"78338e569f9b2a04fcef0dae59879188604b2ef5",name:"header"},i("ks-calendar-header",{key:"7d3b7b2c31e8481c73f28c4c9d613ad906148213",title:d,viewMode:this.viewMode,onKsPreviousClick:()=>{let t=this.year;let e=this.month;if(this.viewMode==="year"){t-=1}else{e-=1;if(e<0){e=(e+12)%12;t-=1}const i=new Date(t,e);this.ksMonthChange.emit({start:a.startOfMonth(i),end:a.endOfMonth(i)})}this.year=t;this.month=e},onKsNextClick:()=>{let t=this.year;let e=this.month;if(this.viewMode==="year"){t+=1}else{e+=1;if(e>=12){e%=12;t+=1}const i=new Date(t,e);this.ksMonthChange.emit({start:a.startOfMonth(i),end:a.endOfMonth(i)})}this.year=t;this.month=e},onKsTodayClick:()=>{if(a.getMonth(Date.now())!==this.month){this.ksMonthChange.emit({start:a.startOfMonth(Date.now()),end:a.endOfMonth(Date.now())})}this.year=a.getYear(Date.now());this.month=a.getMonth(Date.now())},onKsViewModeChange:({detail:t})=>{this.viewMode=t},"data-testid":"ks-calendar-index-rLdnF3"})),i("div",{key:"fd8c33cc60cc6a7f750f270d4e83db5e0622c1aa",class:`${l}__container`},this.viewMode==="year"&&i("ks-calendar-year",{key:"da3c24d04249afa3b9c3f6a02668a800e5fafb10",year:this.year,events:this.events,selected:this.selectedDate,onKsDayClick:this.handleClickDay.bind(this),"data-testid":"ks-calendar-index-qzEsdX"}),this.viewMode==="month"&&i("ks-calendar-month",{key:"c91c507702e79d4b4a4c48d11e7dd0e294311be5",year:this.year,month:this.month,events:this.events,selected:this.selectedDate,renderContent:this.renderContent,onKsDayClick:this.handleClickDay.bind(this),"data-testid":"ks-calendar-index-7QxssV"},this.renderContent&&this.renderSlot()))))}};c.style=h;export{c as ks_calendar};