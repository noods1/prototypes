{"version":3,"names":["triggerLifecycleHook","component","lifecycle","pluginManager","componentName","constructor","name","componentInstance","registerPluginManager","el","originalConnectedCallback","connectedCallback","originalDisconnectedCallback","disconnectedCallback","originalComponentWillLoad","componentWillLoad","originalComponentDidLoad","componentDidLoad","originalComponentWillUpdate","componentWillUpdate","originalComponentDidUpdate","componentDidUpdate","originalComponentWillRender","componentWillRender","originalComponentDidRender","componentDidRender","call"],"sources":["src/utils/plugin.ts"],"sourcesContent":["import { pluginManager, type Lifecycle } from '@src/plugins';\nimport type { ComponentInterface } from '@stencil/core';\n\nconst triggerLifecycleHook = (component: ComponentInterface, lifecycle: Lifecycle): void => {\n  pluginManager.triggerLifecycleHook({\n    componentName: component.constructor.name,\n    componentInstance: component,\n    lifecycle,\n  });\n};\n\n/**\n * Hijack the lifecycle of the component and register the component for plugin manager.\n *\n * @param el - Stencil component instance\n *\n * @example\n * You can call this function in the `constructor` inside a component.\n * ```ts\n * import { Element, type ComponentInterface } from '@stencil/core';\n * import { registerPluginManager } from '@src/utils/plugin';\n *\n * export class MyComponent implements ComponentInterface {\n *   \\@Element() el: HTMLMyComponentElement;\n *   constructor() {\n *     registerPluginManager(this.el);\n *   }\n * }\n * ```\n */\nexport const registerPluginManager = (el: ComponentInterface) => {\n  triggerLifecycleHook(el, 'init');\n\n  const originalConnectedCallback = el.connectedCallback;\n  const originalDisconnectedCallback = el.disconnectedCallback;\n  const originalComponentWillLoad = el.componentWillLoad;\n  const originalComponentDidLoad = el.componentDidLoad;\n  const originalComponentWillUpdate = el.componentWillUpdate;\n  const originalComponentDidUpdate = el.componentDidUpdate;\n  const originalComponentWillRender = el.componentWillRender;\n  const originalComponentDidRender = el.componentDidRender;\n\n  el.connectedCallback = () => {\n    if (originalConnectedCallback) {\n      originalConnectedCallback.call(el);\n    }\n    triggerLifecycleHook(el, 'connectedCallback');\n  };\n\n  el.disconnectedCallback = () => {\n    if (originalDisconnectedCallback) {\n      originalDisconnectedCallback.call(el);\n    }\n    triggerLifecycleHook(el, 'disconnectedCallback');\n  };\n\n  el.componentWillLoad = () => {\n    if (originalComponentWillLoad) {\n      originalComponentWillLoad.call(el);\n    }\n    triggerLifecycleHook(el, 'componentWillLoad');\n  };\n\n  el.componentDidLoad = () => {\n    if (originalComponentDidLoad) {\n      originalComponentDidLoad.call(el);\n    }\n    triggerLifecycleHook(el, 'componentDidLoad');\n  };\n\n  el.componentWillUpdate = () => {\n    if (originalComponentWillUpdate) {\n      originalComponentWillUpdate.call(el);\n    }\n    triggerLifecycleHook(el, 'componentWillUpdate');\n  };\n\n  el.componentDidUpdate = () => {\n    if (originalComponentDidUpdate) {\n      originalComponentDidUpdate.call(el);\n    }\n    triggerLifecycleHook(el, 'componentDidUpdate');\n  };\n\n  el.componentWillRender = () => {\n    if (originalComponentWillRender) {\n      originalComponentWillRender.call(el);\n    }\n    triggerLifecycleHook(el, 'componentWillRender');\n  };\n\n  el.componentDidRender = () => {\n    if (originalComponentDidRender) {\n      originalComponentDidRender.call(el);\n    }\n    triggerLifecycleHook(el, 'componentDidRender');\n  };\n};\n"],"mappings":"oCAGA,MAAMA,EAAuB,CAACC,EAA+BC,KAC3DC,EAAcH,qBAAqB,CACjCI,cAAeH,EAAUI,YAAYC,KACrCC,kBAAmBN,EACnBC,aACA,EAsBS,MAAAM,EAAyBC,IACpCT,EAAqBS,EAAI,QAEzB,MAAMC,EAA4BD,EAAGE,kBACrC,MAAMC,EAA+BH,EAAGI,qBACxC,MAAMC,EAA4BL,EAAGM,kBACrC,MAAMC,EAA2BP,EAAGQ,iBACpC,MAAMC,EAA8BT,EAAGU,oBACvC,MAAMC,EAA6BX,EAAGY,mBACtC,MAAMC,EAA8Bb,EAAGc,oBACvC,MAAMC,EAA6Bf,EAAGgB,mBAEtChB,EAAGE,kBAAoB,KACrB,GAAID,EAA2B,CAC7BA,EAA0BgB,KAAKjB,E,CAEjCT,EAAqBS,EAAI,oBAAoB,EAG/CA,EAAGI,qBAAuB,KACxB,GAAID,EAA8B,CAChCA,EAA6Bc,KAAKjB,E,CAEpCT,EAAqBS,EAAI,uBAAuB,EAGlDA,EAAGM,kBAAoB,KACrB,GAAID,EAA2B,CAC7BA,EAA0BY,KAAKjB,E,CAEjCT,EAAqBS,EAAI,oBAAoB,EAG/CA,EAAGQ,iBAAmB,KACpB,GAAID,EAA0B,CAC5BA,EAAyBU,KAAKjB,E,CAEhCT,EAAqBS,EAAI,mBAAmB,EAG9CA,EAAGU,oBAAsB,KACvB,GAAID,EAA6B,CAC/BA,EAA4BQ,KAAKjB,E,CAEnCT,EAAqBS,EAAI,sBAAsB,EAGjDA,EAAGY,mBAAqB,KACtB,GAAID,EAA4B,CAC9BA,EAA2BM,KAAKjB,E,CAElCT,EAAqBS,EAAI,qBAAqB,EAGhDA,EAAGc,oBAAsB,KACvB,GAAID,EAA6B,CAC/BA,EAA4BI,KAAKjB,E,CAEnCT,EAAqBS,EAAI,sBAAsB,EAGjDA,EAAGgB,mBAAqB,KACtB,GAAID,EAA4B,CAC9BA,EAA2BE,KAAKjB,E,CAElCT,EAAqBS,EAAI,qBAAqB,CAC/C,S","ignoreList":[]}