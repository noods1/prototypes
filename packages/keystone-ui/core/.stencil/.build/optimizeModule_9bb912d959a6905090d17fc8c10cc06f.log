import{r as t,c as i,h as n,F as e,H as s,a as r}from"./p-BVbYP5UG.js";import{c as o}from"./p-BLeWSNPN.js";import{S as a}from"./p-DtH7945i.js";import{t as l,d as u}from"./p-B9Bv72kO.js";import{s as c,p as h,f as d}from"./p-92SBOqbr.js";import{s as b}from"./p-BpTTFEEs.js";import{s as p}from"./p-DQMKCe7v.js";import{r as f}from"./p-DOsoKeKK.js";import{V as m}from"./p-DTAuyNBn.js";import{i as _}from"./p-CZoCRgNL.js";import"@oddbird/popover-polyfill";import"./p-B85MJLTf.js";var k;(function(t){t["Outset"]="left-right";t["Inset"]="right";t["None"]="none"})(k||(k={}));var v;(function(t){t[t["Increase"]=0]="Increase";t[t["Decrease"]=1]="Decrease"})(v||(v={}));const g='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:inline-flex;width:100%}.input-number__controls{width:20px;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transition:all ease-in-out 0.1s}.input-number__controls.input-number__controls--visible{opacity:1}.input-number__controls-btn{display:flex;align-items:center;cursor:pointer;justify-content:center;width:36px;background-color:var(--ks-color-neutral-surface2);color:var(--ks-color-neutral-highOnSurface);height:36px}.input-number__controls-btn:not(.input-number__controls-btn--disabled):hover{background-color:var(--ks-color-neutral-surface2Hover)}.input-number__controls-btn:not(.input-number__controls-btn--disabled):active{background-color:var(--ks-color-neutral-surface2Active)}.input-number__controls-btn-start{border-inline-end:1px solid var(--ks-color-neutral-fillLow)}.input-number__controls-btn-end{border-inline-start:1px solid var(--ks-color-neutral-fillLow)}.input-number__controls-btn--disabled{cursor:not-allowed;color:var(--ks-color-neutral-onSurfaceDisabled)}.input-number__has-controls::part(label){padding:0}.input-number__has-controls::part(controls-start-divider),.input-number__has-controls::part(controls-end-divider){display:none}.input-number__has-controls::part(content){padding-right:var(--ks-spacing-300)}.input-number__has-controls[dir=rtl]::part(content){padding-left:var(--ks-spacing-300)}.input-number [ks-input]::part(input){font-variant-numeric:lining-nums tabular-nums}.input-number__out-ctl-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;cursor:pointer;color:var(--ks-color-neutral-onSurface)}.input-number__out-ctl-btn-up{display:flex;align-items:center;justify-content:center;cursor:pointer;width:16px;height:14px;background-color:var(--ks-color-neutral-surface2);border-radius:var(--ks-border-radius-sm) var(--ks-border-radius-sm) 0 0}.input-number__out-ctl-btn-up:not(.input-number__out-ctl-btn-up--disabled):hover{background-color:var(--ks-color-neutral-surface2Hover)}.input-number__out-ctl-btn-up:not(.input-number__out-ctl-btn-up--disabled):active{background-color:var(--ks-color-neutral-surface2Active)}.input-number__out-ctl-btn-up--disabled{cursor:not-allowed;color:var(--ks-color-neutral-onSurfaceDisabled);background-color:var(--ks-color-neutral-surface2Disabled)}.input-number__out-ctl-btn-down{display:flex;align-items:center;justify-content:center;cursor:pointer;width:16px;height:14px;background-color:var(--ks-color-neutral-surface2);border-radius:0 0 var(--ks-border-radius-sm) var(--ks-border-radius-sm)}.input-number__out-ctl-btn-down:not(.input-number__out-ctl-btn-down--disabled):hover{background-color:var(--ks-color-neutral-surface2Hover)}.input-number__out-ctl-btn-down:not(.input-number__out-ctl-btn-down--disabled):active{background-color:var(--ks-color-neutral-surface2Active)}.input-number__out-ctl-btn-down--disabled{cursor:not-allowed;color:var(--ks-color-neutral-onSurfaceDisabled);background-color:var(--ks-color-neutral-surface2Disabled)}.input-number__out-ctl-btn--disabled{cursor:not-allowed;color:var(--ks-color-neutral-onSurfaceDisabled);background-color:var(--ks-color-neutral-surface2Disabled)}.input-number__addon{display:flex;align-items:center;font-size:inherit;width:36px;position:relative}.input-number::placeholder{color:var(--ks-color-neutral-lowOnSurface)}.input-number[dir=ltr] .input-number__out-ctl-btn{margin-right:var(--ks-spacing-100)}.input-number[dir=rtl] .input-number__out-ctl-btn{margin-left:var(--ks-spacing-100)}';var y=undefined&&undefined.__decorate||function(t,i,n,e){var s=arguments.length,r=s<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,n):e,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,i,n,e);else for(var a=t.length-1;a>=0;a--)if(o=t[a])r=(s<3?o(r):s>3?o(i,n,r):o(i,n))||r;return s>3&&r&&Object.defineProperty(i,n,r),r};const x="input-number";const w=class{handleValuePropUpdate(t){if(!t&&t!==0){this.numeralValue=null;this.setInnerInputValue("")}else{const i=Number(t);if(i!==this.numeralValue){this.numeralValue=i;const n=this.format(Number(t),this.precision);this.setInnerInputValue(n)}}}handleDefaultValueUpdate(t){if(this.value===undefined){this.handleValuePropUpdate(t)}}handlePrecisionUpdate(t){if(typeof t==="number"&&this.numeralValue!==null){const t=this.format(Number(this.value),this.precision);this.setInnerInputValue(t)}}async focusInput(){this.inputEl.focusInput()}async blurInput(){this.inputEl.blurInput()}constructor(s){t(this,s);this.ksChange=i(this,"ksChange",1);this["ks-name"]="ks-input-number";this.valueType="number";this.size="md";this.disabled=false;this.clearable=false;this.min=-Infinity;this.max=Infinity;this.step=1;this.sanitize=c;this.parse=h;this.format=d;this.locale=b.state.config.locale;this.handleBlur=()=>{if(this.numeralValue===null){this.setInnerInputValue("")}else{const t=this.fixNumberWithLimits(this.numeralValue);this.setInnerInputValue(this.format(t,this.precision));if(t!==this.numeralValue){this.numeralValue=t;this.ksChange.emit(this.getValueByType());p(this.el,{eventType:"change",componentParams:{value:this.getValueByType()}})}}p(this.el,{eventType:"blur"})};this.handleFocus=()=>{p(this.el,{eventType:"focus"})};this.handleInput=({detail:t})=>{const i=this.sanitize(t||"");this.setInnerInputValue(i);let n=this.parse(i);if(!n&&n!==0){n=null}if(n!==null){n=this.fixNumberWithLimits(n)}if(this.numeralValue!==n){this.numeralValue=n;this.ksChange.emit(this.getValueByType());p(this.el,{eventType:"change",componentParams:{value:this.getValueByType()}})}};this.updateNumeralValueAndFormat=t=>{const i=this.fixNumberWithLimits(t);if(i!==this.numeralValue){this.numeralValue=i;this.ksChange.emit(this.getValueByType());p(this.el,{eventType:"change",componentParams:{value:this.getValueByType()}})}this.setInnerInputValue(String(this.format(this.numeralValue,this.precision)))};this.handleUpdateFromControls=t=>{if(this.disabled){return}if(t===v.Increase){if(Number(this.numeralValue)>=this.max){return}this.updateNumeralValueAndFormat((Number(this.numeralValue)||0)+this.step)}else{if(Number(this.numeralValue)<=this.min){return}this.updateNumeralValueAndFormat((Number(this.numeralValue)||0)-this.step)}};this.renderOutsetControls=()=>this.showControls&&n(e,null,n("span",{slot:"controls-end",class:o(`${x}__out-ctl-btn`)},n("span",{class:o(`${x}__out-ctl-btn-up`,{[`${x}__out-ctl-btn-up--disabled`]:Number(this.numeralValue)>=this.max||this.disabled}),onClick:()=>this.handleUpdateFromControls(v.Increase),"data-testid":"ks-input-number-index-i5voqh"},n("ks-icon-chevron-up",{size:"14"})),n("span",{class:o(`${x}__out-ctl-btn-down`,{[`${x}__out-ctl-btn-down--disabled`]:Number(this.numeralValue)<=this.min||this.disabled}),onClick:()=>this.handleUpdateFromControls(v.Decrease),"data-testid":"ks-input-number-index-ew1ATE"},n("ks-icon-chevron-down",{size:"14"}))));this.renderInsetControls=()=>(typeof this.showControls!=="boolean"||this.showControls)&&n(e,null,n("span",{slot:"controls-end",class:o(`${x}__controls-btn ${x}__controls-btn-end`,{[`${x}__controls-btn--disabled`]:Number(this.numeralValue)>=this.max||this.disabled}),onClick:()=>this.handleUpdateFromControls(v.Increase),"data-testid":"ks-input-number-index-oevemz"},n("ks-icon-plus",{size:"14"})),n("span",{slot:"controls-start",class:o(`${x}__controls-btn ${x}__controls-btn-start`,{[`${x}__controls-btn--disabled`]:Number(this.numeralValue)<=this.min||this.disabled}),onClick:()=>this.handleUpdateFromControls(v.Decrease),"data-testid":"ks-input-number-index-2arrMJ"},n("ks-icon-minus",{size:"14"})));f(this.el)}getValueByType(){if(this.valueType==="number"){return this.numeralValue}if(this.numeralValue===null){return""}else if(typeof this.precision==="number"){return Number(this.numeralValue).toFixed(this.precision)}else{return String(this.numeralValue)}}setInnerInputValue(t){if(!this.inputEl){return}this.inputEl.value=t}fixNumberWithLimits(t){let i=Math.max(Math.min(this.max,t),this.min);i=typeof this.precision==="number"?Number(i.toFixed(this.precision)):i;return i}componentDidLoad(){this.handleValuePropUpdate(this.value);if(this.defaultValue&&this.value===undefined){this.inputEl.value=this.defaultValue.toString()}}watchLocaleChange(){if(b.state.config.locale!==this.locale){this.locale=b.state.config.locale;if(this.numeralValue!==null){const t=this.format(Number(this.value),this.precision);this.setInnerInputValue(t)}}}render(){this.watchLocaleChange();return n(s,{key:"5d8ba82b90882107cbb988130a8cbf6b12ac40a8",dir:u(),"ks-input-number":true},n("ks-input",{key:"75938fdb6891f65e3c91a1051e80f914fc76b175",exportparts:"input: input, field: field",class:o(x,`${x}__has-controls`),type:"text",ref:t=>this.inputEl=t,disabled:this.disabled,clearable:this.clearable,status:this.status,placeholder:this.placeholder||l(_.placeholder),onKsChange:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,"data-testid":"ks-input-number-index-sX1fTc"},this.prefixSlot&&n("slot",{key:"1bcae86c01f2f04922212c91be32f3397f88734b",slot:"prefix",name:"prefix"}),this.suffixSlot&&n("slot",{key:"54f4139cafe45f7f588c48634b18ee2dd724f57f",slot:"suffix",name:"suffix"}),this.size==="md"?this.renderOutsetControls():this.renderInsetControls()))}get el(){return r(this)}static get watchers(){return{value:["handleValuePropUpdate"],defaultValue:["handleDefaultValueUpdate"],precision:["handlePrecisionUpdate"]}}};y([a({slotname:"suffix"})],w.prototype,"suffixSlot",void 0);y([a({slotname:"prefix"})],w.prototype,"prefixSlot",void 0);y([m()],w.prototype,"value",void 0);w.style=g;export{w as ks_input_number};