{"version":3,"names":["EnumCheckStrategy","EnumTreeItemKeys","TreeMap","constructor","option","this","rootFloor","fullpathMode","valueKey","labelKey","childrenKey","disabledKey","needLoadKey","data","createRootNode","FLOOR_KEY","createData","datasource","rootNode","undefined","length","btRemoveLeaf","_this","unValidVal","rootNode$1","map","DFS","num","target","arr","i","item","FULL_VALUE_KEY","FULL_LABEL_KEY","FULL_PATH_KEY","concat","LABEL_FULL_PATH_KEY","PARENT_FULL_VALUE_KEY","PARENT_KEY","ignoreOption","btAddLeaf","parent","LEAFS_VALUE_KEY","Array","push","leafs","splice","indexOf","insertNode","parentNode","subMap","Object","assign","isSelectedInSingleMode","currentOption","selectValue","isSelectedInMultipleMode","selectedValue","checkStrategy","isRootNode","selected","isIndeterminate","selectedArray","isIndeterminateArray","forEach","selected$1","isIndeterminate$1","every","some","count","getLeafsSelectedLen","filter","has","size","isInSelectedVal","INDEPENDENT","ALL","leafSelectedLen","PARENT","isAncestryInSelectVal","value","visitChildrenNodeBfs","node","CHILD","singleSelect","Promise","resolve","reject","Error","addSelfValue2Selected","add","addChildValue2Selected","addParentValue2Selected","bfsDelete","queue","shift","delete","child","btMerge","canMerge","selectable","addEveryValue2Selected","dfs","btAppend","parentIsFull","multipleAddSelect","removeSelfValue2Selected","removeChildValue2Selected","removeParentValue2Selected","btBreakUp","activeOption","bfs","opt","includes","removeEveryValue2Selected","multipleRemoveSelect","val","NaN","btGetDisabled","disabled","startNode","cb","stop"],"sources":["src/utils/tree/treeMap.ts"],"sourcesContent":["// eslint-disable-next-line @stencil-community/ban-exported-const-enums\nexport enum EnumCheckStrategy { // FIXME TYPE_FIXME unexpected ban-exported-const-enums error\n  ALL = 'all',\n  PARENT = 'parent',\n  CHILD = 'child',\n  INDEPENDENT = 'independent',\n}\n\nexport type CheckStrategy = `${EnumCheckStrategy}`;\n\nexport type TreeItemValue = string | number;\n\n// eslint-disable-next-line @stencil-community/ban-exported-const-enums\nexport enum EnumTreeItemKeys {\n  FLOOR_KEY = '__floor',\n  FULL_VALUE_KEY = '__fullValue',\n  FULL_LABEL_KEY = '__fullLabel',\n  PARENT_FULL_VALUE_KEY = '__pFullValue',\n  FULL_PATH_KEY = '__fullPath',\n  LABEL_FULL_PATH_KEY = '__labelFullPath',\n  LEAFS_VALUE_KEY = '__leafsValue',\n  PARENT_KEY = '__parent',\n  ORIGIN_DATA = '__originData',\n}\n\nexport interface TreeItem {\n  [key: string]: unknown;\n  [EnumTreeItemKeys.FLOOR_KEY]?: number;\n  [EnumTreeItemKeys.FULL_VALUE_KEY]?: TreeItemValue;\n  [EnumTreeItemKeys.FULL_LABEL_KEY]?: string;\n  [EnumTreeItemKeys.PARENT_FULL_VALUE_KEY]?: TreeItemValue;\n  [EnumTreeItemKeys.FULL_PATH_KEY]?: Array<TreeItemValue>;\n  [EnumTreeItemKeys.LABEL_FULL_PATH_KEY]?: Array<string>;\n  [EnumTreeItemKeys.LEAFS_VALUE_KEY]?: Array<TreeItemValue>;\n  [EnumTreeItemKeys.PARENT_KEY]?: TreeItem;\n  [EnumTreeItemKeys.ORIGIN_DATA]?: Record<string, unknown>;\n}\n\nexport class TreeMap<T extends TreeItem> {\n  data: Record<string, TreeItem & T>;\n  fullpathMode: boolean;\n  valueKey: string;\n  labelKey: string;\n  childrenKey: string;\n  disabledKey: string;\n  needLoadKey: string;\n  rootFloor = -1;\n\n  constructor(option: {\n    fullpathMode?: boolean;\n    valueKey?: string;\n    labelKey?: string;\n    childrenKey?: string;\n    disabledKey?: string;\n    needLoadKey?: string;\n  }) {\n    const {\n      fullpathMode = false,\n      valueKey = 'value',\n      labelKey = 'label',\n      childrenKey = 'children',\n      disabledKey = 'disabled',\n      needLoadKey = 'needLoad',\n    } = option;\n    this.fullpathMode = fullpathMode;\n    this.valueKey = valueKey;\n    this.labelKey = labelKey;\n    this.childrenKey = childrenKey;\n    this.disabledKey = disabledKey;\n    this.needLoadKey = needLoadKey;\n    this.data = {};\n  }\n  createRootNode() {\n    return { [EnumTreeItemKeys.FLOOR_KEY]: this.rootFloor };\n  }\n  /**\n   * create a treeMap Object\n   * @param datasource 数据源\n   * @param rootNode 根节点\n   * @returns Record<string, TreeItem>\n   */\n  createData(datasource: Array<T> = [], rootNode?: TreeItem & T) {\n    // console.time('cascader-initial-data');\n    if (rootNode !== undefined && datasource?.length) {\n      this.btRemoveLeaf(rootNode);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this; // FIXME TYPE_FIXME unexpected @typescript-eslint/no-this-alias error\n    const { valueKey, labelKey, childrenKey, fullpathMode, unValidVal } = this;\n    const rootNode$1 = rootNode !== undefined ? rootNode : this.createRootNode();\n    // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n    rootNode$1[this.childrenKey] = [...(rootNode$1[this.childrenKey] || []), ...datasource];\n    const map: Record<string, TreeItem & T> = {};\n    function DFS(num: number, target: TreeItem & T, arr: Array<T>) {\n      for (let i = 0; i < arr.length; i++) {\n        const item = arr[i] as TreeItem & T;\n        item[EnumTreeItemKeys.FLOOR_KEY] = num;\n        if (fullpathMode) {\n          item[EnumTreeItemKeys.FULL_VALUE_KEY] = unValidVal(target[EnumTreeItemKeys.FULL_VALUE_KEY])\n            ? `${item[valueKey]}`\n            : `${target[EnumTreeItemKeys.FULL_VALUE_KEY]}/${item[valueKey]}`;\n          item[EnumTreeItemKeys.FULL_LABEL_KEY] = unValidVal(target[EnumTreeItemKeys.FULL_LABEL_KEY])\n            ? `${item[labelKey]}`\n            : `${target[EnumTreeItemKeys.FULL_LABEL_KEY]}/${item[labelKey]}`;\n        } else {\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          item[EnumTreeItemKeys.FULL_VALUE_KEY] = item[valueKey];\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          item[EnumTreeItemKeys.FULL_LABEL_KEY] = item[labelKey];\n        }\n        item[EnumTreeItemKeys.FULL_PATH_KEY] = [].concat(\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          target[EnumTreeItemKeys.FULL_PATH_KEY] || [],\n          item[EnumTreeItemKeys.FULL_VALUE_KEY],\n        );\n        item[EnumTreeItemKeys.LABEL_FULL_PATH_KEY] = [].concat(\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          target[EnumTreeItemKeys.LABEL_FULL_PATH_KEY] || [],\n          item[EnumTreeItemKeys.FULL_LABEL_KEY],\n        );\n        item[EnumTreeItemKeys.PARENT_FULL_VALUE_KEY] = target[EnumTreeItemKeys.FULL_VALUE_KEY];\n        item[EnumTreeItemKeys.PARENT_KEY] = target;\n        if (!unValidVal(item[EnumTreeItemKeys.FULL_VALUE_KEY])) {\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          map[item[EnumTreeItemKeys.FULL_VALUE_KEY]] = item;\n        }\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        if (item[childrenKey]?.length) {\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          DFS(num + 1, item, item[childrenKey]);\n        } else {\n          if (!_this.ignoreOption(item)) {\n            // 叶子\n            _this.btAddLeaf(item);\n          }\n        }\n      }\n    }\n    DFS(0, rootNode$1 as TreeItem & T, datasource);\n\n    rootNode === undefined && (this.data = map); // 从0创建，而非插入\n    // console.timeEnd('cascader-initial-data');\n    return map;\n  }\n  /** 回溯添加叶子节点 */\n  private btAddLeaf(target: TreeItem) {\n    let parent = target[EnumTreeItemKeys.PARENT_KEY];\n    while (parent && parent[EnumTreeItemKeys.FLOOR_KEY] !== this.rootFloor) {\n      if (parent[EnumTreeItemKeys.LEAFS_VALUE_KEY] instanceof Array) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        parent[EnumTreeItemKeys.LEAFS_VALUE_KEY].push(target[EnumTreeItemKeys.FULL_VALUE_KEY]);\n      } else {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        parent[EnumTreeItemKeys.LEAFS_VALUE_KEY] = [target[EnumTreeItemKeys.FULL_VALUE_KEY]];\n      }\n      parent = parent[EnumTreeItemKeys.PARENT_KEY];\n    }\n  }\n  /** 回溯删除叶子节点 */\n  private btRemoveLeaf(target: TreeItem) {\n    let parent = target[EnumTreeItemKeys.PARENT_KEY];\n    while (parent && parent[EnumTreeItemKeys.FLOOR_KEY] !== this.rootFloor) {\n      const leafs = parent[EnumTreeItemKeys.LEAFS_VALUE_KEY];\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      leafs.splice(leafs.indexOf(target[EnumTreeItemKeys.FULL_VALUE_KEY]), 1);\n      parent = parent[EnumTreeItemKeys.PARENT_KEY];\n    }\n  }\n  /**\n   * 像已创建的treeMap Object插入一个子集\n   * @param datasource\n   * @param parentNode 根节点\n   */\n  insertNode(datasource: Array<T>, parentNode: TreeItem & T) {\n    const subMap = this.createData(datasource, parentNode);\n    Object.assign(this.data, subMap);\n    return this.data;\n  }\n  isSelectedInSingleMode(currentOption: TreeItem & T, selectValue: TreeItemValue) {\n    return selectValue === currentOption[EnumTreeItemKeys.FULL_VALUE_KEY];\n  }\n  isSelectedInMultipleMode(\n    currentOption: TreeItem & T,\n    selectedValue: Set<TreeItemValue>,\n    checkStrategy: CheckStrategy,\n  ) {\n    if (this.isRootNode(currentOption)) {\n      let selected = false;\n      let isIndeterminate = false;\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      const selectedArray = [];\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      const isIndeterminateArray = [];\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      currentOption[this.childrenKey]?.forEach((option: TreeItem & T) => {\n        const { selected: selected$1, isIndeterminate: isIndeterminate$1 } = this.isSelectedInMultipleMode(\n          option,\n          selectedValue,\n          checkStrategy,\n        );\n        selectedArray.push(selected$1);\n        isIndeterminateArray.push(isIndeterminate$1);\n      });\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      selected = selectedArray.every((item) => item);\n      isIndeterminate =\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        (!selected && selectedArray.some((item) => item)) || isIndeterminateArray.some((item) => item);\n      return {\n        selected,\n        isIndeterminate,\n      };\n    }\n    let selected = false;\n    let isIndeterminate = false;\n    let count = 0;\n    function getLeafsSelectedLen() {\n      return (\n        currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY]?.filter((item: TreeItemValue) => selectedValue?.has(item))\n          .length || 0\n      );\n    }\n    if (selectedValue?.size) {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      const isInSelectedVal = selectedValue?.has(currentOption[EnumTreeItemKeys.FULL_VALUE_KEY]);\n      if (checkStrategy === EnumCheckStrategy.INDEPENDENT) {\n        // 独立模式中，项目选中状态由：自身出现在备选池决定【因为备选池会保有该项值】\n        selected = isInSelectedVal;\n        // 独立模式中，无半选状态\n      } else if (checkStrategy === EnumCheckStrategy.ALL) {\n        const leafSelectedLen = getLeafsSelectedLen();\n        // all 模式中，项目选中状态由：自身出现在备选池决定【因为备选池会保有该项值】\n        selected = isInSelectedVal;\n        // all 模式中，半选状态由：1、自身未出现在备选池；2、子节点是不全在备选池\n        isIndeterminate =\n          !isInSelectedVal &&\n          leafSelectedLen > 0 &&\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          leafSelectedLen < currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY]?.length;\n      } else if (checkStrategy === EnumCheckStrategy.PARENT) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        const isAncestryInSelectVal: boolean = currentOption[EnumTreeItemKeys.FULL_PATH_KEY]?.some(\n          (value: TreeItemValue) => selectedValue?.has(value),\n        );\n        // parent 模式中，项目选中状态由：1、自身出现在备选池【如果子项全部在则会被转化为当前项】；「OR」 2、祖先元素出现在备选池【因为，如果祖先出现，自身将被merge】「且」自身没被忽略\n        selected = isInSelectedVal || (isAncestryInSelectVal && !this.ignoreOption(currentOption));\n        // parent 模式中，半选状态由：自身的任何一个子节点出现在备选池中\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        currentOption[this.childrenKey]?.forEach((option: TreeItem & T) => {\n          const { selected: selected$1 } = this.isSelectedInMultipleMode(option, selectedValue, checkStrategy);\n\n          if (selected$1) {\n            count++;\n          }\n        });\n        this.visitChildrenNodeBfs(currentOption, (node) => {\n          if (\n            // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n            node[this.childrenKey]?.some((item: TreeItem) => selectedValue.has(item[EnumTreeItemKeys.FULL_VALUE_KEY]))\n          ) {\n            isIndeterminate = true;\n            return true;\n          }\n          return false;\n        });\n      } else if (checkStrategy === EnumCheckStrategy.CHILD) {\n        const leafSelectedLen = getLeafsSelectedLen();\n        // child 模式，项目选中状态由：1、自身出现在备选池；「OR」2、自身所有叶子节点出现在备选池；【因为，备选池只有叶子节点】\n        selected = isInSelectedVal || leafSelectedLen === currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY]?.length;\n        // child 模式，半选状态由：是否有自身叶子节点出现在备选池，【因为，备选池只有叶子节点】\n        isIndeterminate =\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          leafSelectedLen > 0 && leafSelectedLen < currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY]?.length;\n      }\n    }\n    return {\n      selected,\n      isIndeterminate,\n      count,\n    };\n  }\n  singleSelect(currentOption: TreeItem & T, checkStrategy: CheckStrategy): Promise<TreeItemValue> {\n    return new Promise((resolve, reject) => {\n      if (\n        checkStrategy === EnumCheckStrategy.INDEPENDENT ||\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        (!currentOption[this.childrenKey]?.length && !currentOption[this.needLoadKey])\n      ) {\n        // 独立选择模式 或者 无下级\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        resolve(currentOption[EnumTreeItemKeys.FULL_VALUE_KEY]);\n      } else {\n        reject(new Error('Option selection failed due to invalid strategy or missing children.'));\n      }\n    });\n  }\n  private addSelfValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    const value = currentOption[EnumTreeItemKeys.FULL_VALUE_KEY];\n    // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n    selectedValue.add(value);\n  }\n  private addChildValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    // 判断是否为叶子节点\n    if (currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY]) {\n      currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY].forEach((value: TreeItemValue) => {\n        selectedValue.add(value);\n      });\n    } else {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      selectedValue.add(currentOption[EnumTreeItemKeys.FULL_VALUE_KEY]);\n    }\n  }\n  private addParentValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    // 递归删除\n    const bfsDelete = (option: TreeItem & T) => {\n      const queue = [option];\n      while (queue.length) {\n        const target = queue.shift();\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        selectedValue.delete(target[EnumTreeItemKeys.FULL_VALUE_KEY]);\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        if (target[this.childrenKey]?.length) {\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          target[this.childrenKey].forEach((child: TreeItem & T) => {\n            queue.push(child);\n          });\n        }\n      }\n    };\n    bfsDelete(currentOption);\n    // 回溯合并\n    const btMerge = (option: TreeItem & T) => {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      selectedValue.add(option[EnumTreeItemKeys.FULL_VALUE_KEY]);\n      const parent = option[EnumTreeItemKeys.PARENT_KEY];\n      if (\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        parent?.[this.childrenKey]?.length &&\n        parent[EnumTreeItemKeys.FLOOR_KEY] !== this.rootFloor // 如果父节点是root，那么该项是视图的第一列，不需要合并\n      ) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        const canMerge: boolean = parent[this.childrenKey].every((item: TreeItem & T) => {\n          if (this.ignoreOption(item)) {\n            return true;\n          }\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          return selectedValue.has(item[EnumTreeItemKeys.FULL_VALUE_KEY]);\n        });\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        if (canMerge && (parent.selectable || parent.selectable === undefined)) {\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          parent[this.childrenKey].forEach((child: TreeItem & T) =>\n            // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n            selectedValue.delete(child[EnumTreeItemKeys.FULL_VALUE_KEY]),\n          );\n          btMerge(parent as TreeItem & T);\n        }\n      }\n    };\n    btMerge(currentOption);\n  }\n  private addEveryValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    // 递归追加【向后】\n    const dfs = (target: TreeItem & T) => {\n      if (target && !this.ignoreOption(target)) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        selectedValue.add(target[EnumTreeItemKeys.FULL_VALUE_KEY]);\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        target[this.childrenKey]?.forEach((option: TreeItem & T) => {\n          dfs(option);\n        });\n      }\n    };\n    dfs(currentOption);\n    // 回溯追加【向前】\n    const btAppend = (option: TreeItem & T) => {\n      const parent = option[EnumTreeItemKeys.PARENT_KEY];\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      const parentIsFull: boolean = parent[this.childrenKey].every((item: TreeItem & T) => {\n        if (this.ignoreOption(item)) {\n          return true;\n        }\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        return selectedValue.has(item[EnumTreeItemKeys.FULL_VALUE_KEY]);\n      });\n      if (parentIsFull) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        selectedValue.add(parent[EnumTreeItemKeys.FULL_VALUE_KEY]);\n        btAppend(parent as TreeItem & T);\n      }\n    };\n    btAppend(currentOption);\n  }\n  multipleAddSelect(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>, checkStrategy: CheckStrategy) {\n    if (this.isRootNode(currentOption)) {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      currentOption[this.childrenKey]?.forEach((option: TreeItem & T) => {\n        this.multipleAddSelect(option, selectedValue, checkStrategy);\n      });\n      return;\n    }\n    switch (checkStrategy) {\n      case 'independent':\n        this.addSelfValue2Selected(currentOption, selectedValue);\n        break;\n      case 'child':\n        this.addChildValue2Selected(currentOption, selectedValue);\n        break;\n      case 'all':\n        this.addEveryValue2Selected(currentOption, selectedValue);\n        break;\n      case 'parent':\n        this.addParentValue2Selected(currentOption, selectedValue);\n        break;\n      default:\n        this.addParentValue2Selected(currentOption, selectedValue);\n        break;\n    }\n  }\n  private removeSelfValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    const value = currentOption[EnumTreeItemKeys.FULL_VALUE_KEY];\n    // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n    selectedValue.delete(value);\n  }\n  private removeChildValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    // 判断是否为叶子节点\n    if (currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY]) {\n      currentOption[EnumTreeItemKeys.LEAFS_VALUE_KEY].forEach((value: TreeItemValue) => {\n        selectedValue.delete(value);\n      });\n    } else {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      selectedValue.delete(currentOption[EnumTreeItemKeys.FULL_VALUE_KEY]);\n    }\n  }\n  private removeParentValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    // 回溯查找merge节点或叶子节点\n    const btBreakUp = (activeOption: TreeItem & T) => {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      if (selectedValue.has(activeOption[EnumTreeItemKeys.FULL_VALUE_KEY])) {\n        // 命中merge节点或叶子节点后，广度优先展开追加\n        const bfs = (target: TreeItem & T) => {\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          selectedValue.delete(target[EnumTreeItemKeys.FULL_VALUE_KEY]);\n          if (target === currentOption) return; // 结束到操作项目\n          // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n          target[this.childrenKey]?.forEach((opt: TreeItem & T) => {\n            if (this.ignoreOption(opt)) {\n              return;\n            }\n            // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n            if (currentOption[EnumTreeItemKeys.FULL_PATH_KEY].includes(opt[EnumTreeItemKeys.FULL_VALUE_KEY])) {\n              bfs(opt);\n              return;\n            }\n            // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n            selectedValue.add(opt[EnumTreeItemKeys.FULL_VALUE_KEY]);\n          });\n        };\n        bfs(activeOption);\n      } else {\n        // 未命中merge节点，继续向上查找\n        btBreakUp(activeOption[EnumTreeItemKeys.PARENT_KEY] as TreeItem & T);\n      }\n    };\n    btBreakUp(currentOption);\n  }\n  private removeEveryValue2Selected(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>) {\n    // 回溯删除【向前】\n    const btAppend = (option: TreeItem & T) => {\n      const parent = option[EnumTreeItemKeys.PARENT_KEY];\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      const parentIsFull: boolean = selectedValue.has(parent[EnumTreeItemKeys.FULL_VALUE_KEY]);\n      if (parentIsFull) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        selectedValue.delete(parent[EnumTreeItemKeys.FULL_VALUE_KEY]);\n        btAppend(parent as TreeItem & T);\n      }\n    };\n    btAppend(currentOption);\n    // 递归删除 【向后】\n    const dfs = (target: TreeItem & T) => {\n      if (target) {\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        selectedValue.delete(target[EnumTreeItemKeys.FULL_VALUE_KEY]);\n        // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n        target[this.childrenKey]?.forEach((option: TreeItem & T) => {\n          dfs(option);\n        });\n      }\n    };\n    dfs(currentOption);\n  }\n  multipleRemoveSelect(currentOption: TreeItem & T, selectedValue: Set<TreeItemValue>, checkStrategy: CheckStrategy) {\n    if (this.isRootNode(currentOption)) {\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      currentOption[this.childrenKey]?.forEach((option: TreeItem & T) => {\n        this.multipleRemoveSelect(option, selectedValue, checkStrategy);\n      });\n      return;\n    }\n    switch (checkStrategy) {\n      case 'independent':\n        this.removeSelfValue2Selected(currentOption, selectedValue);\n        break;\n      case 'child':\n        this.removeChildValue2Selected(currentOption, selectedValue);\n        break;\n      case 'all':\n        this.removeEveryValue2Selected(currentOption, selectedValue);\n        break;\n      case 'parent':\n        this.removeParentValue2Selected(currentOption, selectedValue);\n        break;\n      default:\n        this.removeParentValue2Selected(currentOption, selectedValue);\n        break;\n    }\n  }\n  // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n  private unValidVal(val) {\n    return [undefined, '', NaN].includes(val);\n  }\n  private ignoreOption(option: TreeItem): boolean {\n    const btGetDisabled = (target: TreeItem): boolean => {\n      if (target[EnumTreeItemKeys.FLOOR_KEY] === this.rootFloor) {\n        return false;\n      }\n      if (target[this.disabledKey]) {\n        return true;\n      }\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      return btGetDisabled(target[EnumTreeItemKeys.PARENT_KEY]);\n    };\n    const disabled = btGetDisabled(option);\n    return disabled;\n  }\n  visitChildrenNodeBfs(startNode: TreeItem & T, cb: (node: TreeItem & T) => boolean) {\n    const queue = [startNode];\n    let stop = false;\n    while (queue.length && !stop) {\n      const target = queue.shift();\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      stop = cb?.(target);\n      // @ts-expect-error TYPE_FIXME. Please Fix the below strict mode type error. Read https://bytedance.sg.larkoffice.com/docx/MIsKdGOQwoQsnuxrsxEl6AsYgCf\n      queue.push(...(target[this.childrenKey] || []));\n    }\n  }\n  isRootNode(node: TreeItem) {\n    return node[EnumTreeItemKeys.FLOOR_KEY] === this.rootFloor;\n  }\n}\n"],"mappings":"AACA,IAAYA,GAAZ,SAAYA,GACVA,EAAA,aACAA,EAAA,mBACAA,EAAA,iBACAA,EAAA,4BACD,EALD,CAAYA,MAKX,KAOW,IAAAC,GAAZ,SAAYA,GACVA,EAAA,uBACAA,EAAA,gCACAA,EAAA,gCACAA,EAAA,wCACAA,EAAA,8BACAA,EAAA,yCACAA,EAAA,kCACAA,EAAA,yBACAA,EAAA,6BACD,EAVD,CAAYA,MAUX,K,MAeYC,EAUX,WAAAC,CAAYC,GAFZC,KAASC,WAAG,EAUV,MAAMC,aACJA,EAAe,MAAKC,SACpBA,EAAW,QAAOC,SAClBA,EAAW,QAAOC,YAClBA,EAAc,WAAUC,YACxBA,EAAc,WAAUC,YACxBA,EAAc,YACZR,EACJC,KAAKE,aAAeA,EACpBF,KAAKG,SAAWA,EAChBH,KAAKI,SAAWA,EAChBJ,KAAKK,YAAcA,EACnBL,KAAKM,YAAcA,EACnBN,KAAKO,YAAcA,EACnBP,KAAKQ,KAAO,E,CAEd,cAAAC,GACE,MAAO,CAAE,CAACb,EAAiBc,WAAYV,KAAKC,U,CAQ9C,UAAAU,CAAWC,EAAuB,GAAIC,GAEpC,GAAIA,IAAaC,WAAaF,GAAYG,OAAQ,CAChDf,KAAKgB,aAAaH,E,CAGpB,MAAMI,EAAQjB,KACd,MAAMG,SAAEA,EAAQC,SAAEA,EAAQC,YAAEA,EAAWH,aAAEA,EAAYgB,WAAEA,GAAelB,KACtE,MAAMmB,EAAaN,IAAaC,UAAYD,EAAWb,KAAKS,iBAE5DU,EAAWnB,KAAKK,aAAe,IAAKc,EAAWnB,KAAKK,cAAgB,MAAQO,GAC5E,MAAMQ,EAAoC,GAC1C,SAASC,EAAIC,EAAaC,EAAsBC,GAC9C,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAIT,OAAQU,IAAK,CACnC,MAAMC,EAAOF,EAAIC,GACjBC,EAAK9B,EAAiBc,WAAaY,EACnC,GAAIpB,EAAc,CAChBwB,EAAK9B,EAAiB+B,gBAAkBT,EAAWK,EAAO3B,EAAiB+B,iBACvE,GAAGD,EAAKvB,KACR,GAAGoB,EAAO3B,EAAiB+B,mBAAmBD,EAAKvB,KACvDuB,EAAK9B,EAAiBgC,gBAAkBV,EAAWK,EAAO3B,EAAiBgC,iBACvE,GAAGF,EAAKtB,KACR,GAAGmB,EAAO3B,EAAiBgC,mBAAmBF,EAAKtB,I,KAClD,CAELsB,EAAK9B,EAAiB+B,gBAAkBD,EAAKvB,GAE7CuB,EAAK9B,EAAiBgC,gBAAkBF,EAAKtB,E,CAE/CsB,EAAK9B,EAAiBiC,eAAiB,GAAGC,OAExCP,EAAO3B,EAAiBiC,gBAAkB,GAC1CH,EAAK9B,EAAiB+B,iBAExBD,EAAK9B,EAAiBmC,qBAAuB,GAAGD,OAE9CP,EAAO3B,EAAiBmC,sBAAwB,GAChDL,EAAK9B,EAAiBgC,iBAExBF,EAAK9B,EAAiBoC,uBAAyBT,EAAO3B,EAAiB+B,gBACvED,EAAK9B,EAAiBqC,YAAcV,EACpC,IAAKL,EAAWQ,EAAK9B,EAAiB+B,iBAAkB,CAEtDP,EAAIM,EAAK9B,EAAiB+B,iBAAmBD,C,CAG/C,GAAIA,EAAKrB,IAAcU,OAAQ,CAE7BM,EAAIC,EAAM,EAAGI,EAAMA,EAAKrB,G,KACnB,CACL,IAAKY,EAAMiB,aAAaR,GAAO,CAE7BT,EAAMkB,UAAUT,E,IAKxBL,EAAI,EAAGF,EAA4BP,GAEnCC,IAAaC,YAAcd,KAAKQ,KAAOY,GAEvC,OAAOA,C,CAGD,SAAAe,CAAUZ,GAChB,IAAIa,EAASb,EAAO3B,EAAiBqC,YACrC,MAAOG,GAAUA,EAAOxC,EAAiBc,aAAeV,KAAKC,UAAW,CACtE,GAAImC,EAAOxC,EAAiByC,2BAA4BC,MAAO,CAE7DF,EAAOxC,EAAiByC,iBAAiBE,KAAKhB,EAAO3B,EAAiB+B,gB,KACjE,CAELS,EAAOxC,EAAiByC,iBAAmB,CAACd,EAAO3B,EAAiB+B,gB,CAEtES,EAASA,EAAOxC,EAAiBqC,W,EAI7B,YAAAjB,CAAaO,GACnB,IAAIa,EAASb,EAAO3B,EAAiBqC,YACrC,MAAOG,GAAUA,EAAOxC,EAAiBc,aAAeV,KAAKC,UAAW,CACtE,MAAMuC,EAAQJ,EAAOxC,EAAiByC,iBAEtCG,EAAMC,OAAOD,EAAME,QAAQnB,EAAO3B,EAAiB+B,iBAAkB,GACrES,EAASA,EAAOxC,EAAiBqC,W,EAQrC,UAAAU,CAAW/B,EAAsBgC,GAC/B,MAAMC,EAAS7C,KAAKW,WAAWC,EAAYgC,GAC3CE,OAAOC,OAAO/C,KAAKQ,KAAMqC,GACzB,OAAO7C,KAAKQ,I,CAEd,sBAAAwC,CAAuBC,EAA6BC,GAClD,OAAOA,IAAgBD,EAAcrD,EAAiB+B,e,CAExD,wBAAAwB,CACEF,EACAG,EACAC,GAEA,GAAIrD,KAAKsD,WAAWL,GAAgB,CAClC,IAAIM,EAAW,MACf,IAAIC,EAAkB,MAEtB,MAAMC,EAAgB,GAEtB,MAAMC,EAAuB,GAE7BT,EAAcjD,KAAKK,cAAcsD,SAAS5D,IACxC,MAAQwD,SAAUK,EAAYJ,gBAAiBK,GAAsB7D,KAAKmD,yBACxEpD,EACAqD,EACAC,GAEFI,EAAclB,KAAKqB,GACnBF,EAAqBnB,KAAKsB,EAAkB,IAG9CN,EAAWE,EAAcK,OAAOpC,GAASA,IACzC8B,GAEID,GAAYE,EAAcM,MAAMrC,GAASA,KAAUgC,EAAqBK,MAAMrC,GAASA,IAC3F,MAAO,CACL6B,WACAC,kB,CAGJ,IAAID,EAAW,MACf,IAAIC,EAAkB,MACtB,IAAIQ,EAAQ,EACZ,SAASC,IACP,OACEhB,EAAcrD,EAAiByC,kBAAkB6B,QAAQxC,GAAwB0B,GAAee,IAAIzC,KACjGX,QAAU,C,CAGjB,GAAIqC,GAAegB,KAAM,CAEvB,MAAMC,EAAkBjB,GAAee,IAAIlB,EAAcrD,EAAiB+B,iBAC1E,GAAI0B,IAAkB1D,EAAkB2E,YAAa,CAEnDf,EAAWc,C,MAEN,GAAIhB,IAAkB1D,EAAkB4E,IAAK,CAClD,MAAMC,EAAkBP,IAExBV,EAAWc,EAEXb,GACGa,GACDG,EAAkB,GAElBA,EAAkBvB,EAAcrD,EAAiByC,kBAAkBtB,M,MAChE,GAAIsC,IAAkB1D,EAAkB8E,OAAQ,CAErD,MAAMC,EAAiCzB,EAAcrD,EAAiBiC,gBAAgBkC,MACnFY,GAAyBvB,GAAee,IAAIQ,KAG/CpB,EAAWc,GAAoBK,IAA0B1E,KAAKkC,aAAae,GAG3EA,EAAcjD,KAAKK,cAAcsD,SAAS5D,IACxC,MAAQwD,SAAUK,GAAe5D,KAAKmD,yBAAyBpD,EAAQqD,EAAeC,GAEtF,GAAIO,EAAY,CACdI,G,KAGJhE,KAAK4E,qBAAqB3B,GAAgB4B,IACxC,GAEEA,EAAK7E,KAAKK,cAAc0D,MAAMrC,GAAmB0B,EAAce,IAAIzC,EAAK9B,EAAiB+B,mBACzF,CACA6B,EAAkB,KAClB,OAAO,I,CAET,OAAO,KAAK,G,MAET,GAAIH,IAAkB1D,EAAkBmF,MAAO,CACpD,MAAMN,EAAkBP,IAExBV,EAAWc,GAAmBG,IAAoBvB,EAAcrD,EAAiByC,kBAAkBtB,OAEnGyC,EAEEgB,EAAkB,GAAKA,EAAkBvB,EAAcrD,EAAiByC,kBAAkBtB,M,EAGhG,MAAO,CACLwC,WACAC,kBACAQ,Q,CAGJ,YAAAe,CAAa9B,EAA6BI,GACxC,OAAO,IAAI2B,SAAQ,CAACC,EAASC,KAC3B,GACE7B,IAAkB1D,EAAkB2E,cAElCrB,EAAcjD,KAAKK,cAAcU,SAAWkC,EAAcjD,KAAKO,aACjE,CAGA0E,EAAQhC,EAAcrD,EAAiB+B,gB,KAClC,CACLuD,EAAO,IAAIC,MAAM,wE,KAIf,qBAAAC,CAAsBnC,EAA6BG,GACzD,MAAMuB,EAAQ1B,EAAcrD,EAAiB+B,gBAE7CyB,EAAciC,IAAIV,E,CAEZ,sBAAAW,CAAuBrC,EAA6BG,GAE1D,GAAIH,EAAcrD,EAAiByC,iBAAkB,CACnDY,EAAcrD,EAAiByC,iBAAiBsB,SAASgB,IACvDvB,EAAciC,IAAIV,EAAM,G,KAErB,CAELvB,EAAciC,IAAIpC,EAAcrD,EAAiB+B,gB,EAG7C,uBAAA4D,CAAwBtC,EAA6BG,GAE3D,MAAMoC,EAAazF,IACjB,MAAM0F,EAAQ,CAAC1F,GACf,MAAO0F,EAAM1E,OAAQ,CACnB,MAAMQ,EAASkE,EAAMC,QAErBtC,EAAcuC,OAAOpE,EAAO3B,EAAiB+B,iBAE7C,GAAIJ,EAAOvB,KAAKK,cAAcU,OAAQ,CAEpCQ,EAAOvB,KAAKK,aAAasD,SAASiC,IAChCH,EAAMlD,KAAKqD,EAAM,G,IAKzBJ,EAAUvC,GAEV,MAAM4C,EAAW9F,IAEfqD,EAAciC,IAAItF,EAAOH,EAAiB+B,iBAC1C,MAAMS,EAASrC,EAAOH,EAAiBqC,YACvC,GAEEG,IAASpC,KAAKK,cAAcU,QAC5BqB,EAAOxC,EAAiBc,aAAeV,KAAKC,UAC5C,CAEA,MAAM6F,EAAoB1D,EAAOpC,KAAKK,aAAayD,OAAOpC,IACxD,GAAI1B,KAAKkC,aAAaR,GAAO,CAC3B,OAAO,I,CAGT,OAAO0B,EAAce,IAAIzC,EAAK9B,EAAiB+B,gBAAgB,IAGjE,GAAImE,IAAa1D,EAAO2D,YAAc3D,EAAO2D,aAAejF,WAAY,CAEtEsB,EAAOpC,KAAKK,aAAasD,SAASiC,GAEhCxC,EAAcuC,OAAOC,EAAMhG,EAAiB+B,mBAE9CkE,EAAQzD,E,IAIdyD,EAAQ5C,E,CAEF,sBAAA+C,CAAuB/C,EAA6BG,GAE1D,MAAM6C,EAAO1E,IACX,GAAIA,IAAWvB,KAAKkC,aAAaX,GAAS,CAExC6B,EAAciC,IAAI9D,EAAO3B,EAAiB+B,iBAE1CJ,EAAOvB,KAAKK,cAAcsD,SAAS5D,IACjCkG,EAAIlG,EAAO,G,GAIjBkG,EAAIhD,GAEJ,MAAMiD,EAAYnG,IAChB,MAAMqC,EAASrC,EAAOH,EAAiBqC,YAEvC,MAAMkE,EAAwB/D,EAAOpC,KAAKK,aAAayD,OAAOpC,IAC5D,GAAI1B,KAAKkC,aAAaR,GAAO,CAC3B,OAAO,I,CAGT,OAAO0B,EAAce,IAAIzC,EAAK9B,EAAiB+B,gBAAgB,IAEjE,GAAIwE,EAAc,CAEhB/C,EAAciC,IAAIjD,EAAOxC,EAAiB+B,iBAC1CuE,EAAS9D,E,GAGb8D,EAASjD,E,CAEX,iBAAAmD,CAAkBnD,EAA6BG,EAAmCC,GAChF,GAAIrD,KAAKsD,WAAWL,GAAgB,CAElCA,EAAcjD,KAAKK,cAAcsD,SAAS5D,IACxCC,KAAKoG,kBAAkBrG,EAAQqD,EAAeC,EAAc,IAE9D,M,CAEF,OAAQA,GACN,IAAK,cACHrD,KAAKoF,sBAAsBnC,EAAeG,GAC1C,MACF,IAAK,QACHpD,KAAKsF,uBAAuBrC,EAAeG,GAC3C,MACF,IAAK,MACHpD,KAAKgG,uBAAuB/C,EAAeG,GAC3C,MACF,IAAK,SACHpD,KAAKuF,wBAAwBtC,EAAeG,GAC5C,MACF,QACEpD,KAAKuF,wBAAwBtC,EAAeG,GAC5C,M,CAGE,wBAAAiD,CAAyBpD,EAA6BG,GAC5D,MAAMuB,EAAQ1B,EAAcrD,EAAiB+B,gBAE7CyB,EAAcuC,OAAOhB,E,CAEf,yBAAA2B,CAA0BrD,EAA6BG,GAE7D,GAAIH,EAAcrD,EAAiByC,iBAAkB,CACnDY,EAAcrD,EAAiByC,iBAAiBsB,SAASgB,IACvDvB,EAAcuC,OAAOhB,EAAM,G,KAExB,CAELvB,EAAcuC,OAAO1C,EAAcrD,EAAiB+B,gB,EAGhD,0BAAA4E,CAA2BtD,EAA6BG,GAE9D,MAAMoD,EAAaC,IAEjB,GAAIrD,EAAce,IAAIsC,EAAa7G,EAAiB+B,iBAAkB,CAEpE,MAAM+E,EAAOnF,IAEX6B,EAAcuC,OAAOpE,EAAO3B,EAAiB+B,iBAC7C,GAAIJ,IAAW0B,EAAe,OAE9B1B,EAAOvB,KAAKK,cAAcsD,SAASgD,IACjC,GAAI3G,KAAKkC,aAAayE,GAAM,CAC1B,M,CAGF,GAAI1D,EAAcrD,EAAiBiC,eAAe+E,SAASD,EAAI/G,EAAiB+B,iBAAkB,CAChG+E,EAAIC,GACJ,M,CAGFvD,EAAciC,IAAIsB,EAAI/G,EAAiB+B,gBAAgB,GACvD,EAEJ+E,EAAID,E,KACC,CAELD,EAAUC,EAAa7G,EAAiBqC,Y,GAG5CuE,EAAUvD,E,CAEJ,yBAAA4D,CAA0B5D,EAA6BG,GAE7D,MAAM8C,EAAYnG,IAChB,MAAMqC,EAASrC,EAAOH,EAAiBqC,YAEvC,MAAMkE,EAAwB/C,EAAce,IAAI/B,EAAOxC,EAAiB+B,iBACxE,GAAIwE,EAAc,CAEhB/C,EAAcuC,OAAOvD,EAAOxC,EAAiB+B,iBAC7CuE,EAAS9D,E,GAGb8D,EAASjD,GAET,MAAMgD,EAAO1E,IACX,GAAIA,EAAQ,CAEV6B,EAAcuC,OAAOpE,EAAO3B,EAAiB+B,iBAE7CJ,EAAOvB,KAAKK,cAAcsD,SAAS5D,IACjCkG,EAAIlG,EAAO,G,GAIjBkG,EAAIhD,E,CAEN,oBAAA6D,CAAqB7D,EAA6BG,EAAmCC,GACnF,GAAIrD,KAAKsD,WAAWL,GAAgB,CAElCA,EAAcjD,KAAKK,cAAcsD,SAAS5D,IACxCC,KAAK8G,qBAAqB/G,EAAQqD,EAAeC,EAAc,IAEjE,M,CAEF,OAAQA,GACN,IAAK,cACHrD,KAAKqG,yBAAyBpD,EAAeG,GAC7C,MACF,IAAK,QACHpD,KAAKsG,0BAA0BrD,EAAeG,GAC9C,MACF,IAAK,MACHpD,KAAK6G,0BAA0B5D,EAAeG,GAC9C,MACF,IAAK,SACHpD,KAAKuG,2BAA2BtD,EAAeG,GAC/C,MACF,QACEpD,KAAKuG,2BAA2BtD,EAAeG,GAC/C,M,CAIE,UAAAlC,CAAW6F,GACjB,MAAO,CAACjG,UAAW,GAAIkG,KAAKJ,SAASG,E,CAE/B,YAAA7E,CAAanC,GACnB,MAAMkH,EAAiB1F,IACrB,GAAIA,EAAO3B,EAAiBc,aAAeV,KAAKC,UAAW,CACzD,OAAO,K,CAET,GAAIsB,EAAOvB,KAAKM,aAAc,CAC5B,OAAO,I,CAGT,OAAO2G,EAAc1F,EAAO3B,EAAiBqC,YAAY,EAE3D,MAAMiF,EAAWD,EAAclH,GAC/B,OAAOmH,C,CAET,oBAAAtC,CAAqBuC,EAAyBC,GAC5C,MAAM3B,EAAQ,CAAC0B,GACf,IAAIE,EAAO,MACX,MAAO5B,EAAM1E,SAAWsG,EAAM,CAC5B,MAAM9F,EAASkE,EAAMC,QAErB2B,EAAOD,IAAK7F,GAEZkE,EAAMlD,QAAShB,EAAOvB,KAAKK,cAAgB,G,EAG/C,UAAAiD,CAAWuB,GACT,OAAOA,EAAKjF,EAAiBc,aAAeV,KAAKC,S","ignoreList":[]}