import{r as t,c as e,h as i,H as a,a as s}from"./p-BVbYP5UG.js";import{t as n,d as r}from"./p-B9Bv72kO.js";import{s as o}from"./p-DQMKCe7v.js";import{r as c}from"./p-DOsoKeKK.js";import{p as l}from"./p-CZoCRgNL.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";const d=(t,e)=>({value:t,label:e||`${t}`});const p=t=>d(t,"...");const h=(t,e)=>{const i=[];for(let a=t;a<=e;a++){i.push(d(a))}return i};const g=(t,e)=>Math.ceil(t/e);const f=t=>t*2+1;const m=t=>f(t)+2;const u=({wrapNums:t,currentPage:e,totalPageCount:i})=>{const a=f(t);const s=m(t);if(i<=s){return h(1,i)}const n=[];const r=Math.max(e-t,1);const o=Math.min(r+a-1,i);if(r>1){n.push(d(1))}if(r>2){n.push(p(r-1))}n.push(...h(r,o));if(o<i-1){n.push(p(o+1))}if(o<i){n.push(d(i))}return n};const b='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{display:block}.pager{display:flex;align-items:center}.pager--sm{column-gap:var(--ks-spacing-100)}.pager--md{column-gap:var(--ks-spacing-200)}.pager--dropdown{column-gap:var(--ks-spacing-100)}.pager__record{font-size:var(--ks-text-labelSm-fontSize);line-height:var(--ks-text-labelSm-lineHeight);font-weight:var(--ks-text-labelSm-fontWeight);letter-spacing:var(--ks-text-labelSm-letterSpacing);font-family:var(--ks-text-labelSm-fontFamily)}.pager__item{font-variant-numeric:lining-nums tabular-nums}.pager__item[ks-button]::part(self){min-width:24px;padding:0 calc(var(--ks-spacing-100) - 1px)}.pager__item--simple{display:inline-flex;align-items:center;column-gap:var(--ks-spacing-100);color:var(--ks-color-neutral-highOnSurface);font-size:var(--ks-text-bodySm-fontSize);line-height:var(--ks-text-bodySm-lineHeight);font-weight:var(--ks-text-bodySm-fontWeight);letter-spacing:var(--ks-text-bodySm-letterSpacing);font-family:var(--ks-text-bodySm-fontFamily)}.pager__item--active::part(self){border-color:var(--ks-color-primary-fill);background-color:var(--ks-color-neutral-surface)}.pager__button-icon{color:var(--ks-color-neutral-onSurface);transition-property:color;transition-duration:100ms;transition-timing-function:var(--ks-transition-easing-standardOut)}.pager__button-icon--disabled{color:var(--ks-color-neutral-onSurfaceDisabled)}';const k="pager";const v=class{pageWatcher(t){if(this.isCurrentPageControlled&&t!==undefined){this.internalCurrentPage=t}}pageSizeWatcher(t){if(this.isPageSizeControlled&&t!==undefined){this.internalPageSize=t}}constructor(i){t(this,i);this.ksPageChange=e(this,"ksPageChange",7);this.ksPageSizeChange=e(this,"ksPageSizeChange",7);this["ks-name"]="ks-pagination";this.isPageSizeControlled=false;this.isCurrentPageControlled=false;this.internalPageSize=10;this.internalCurrentPage=1;this.disabled=false;this.defaultPage=1;this.defaultPageSize=10;this.pageSizeList=[];this.size="md";this.total=0;this.showTotal=false;this.showJump=false;this.wrapNums=2;this.handleJumperJump=({detail:t})=>{this.handleChange(t)()};this.handleChange=t=>()=>{if(!this.isCurrentPageControlled){this.internalCurrentPage=t}this.ksPageChange.emit(t);o(this.el,{eventType:"change",subEventType:"page",componentParams:{page:t}})};this.handlePaginationChange=({detail:t})=>{const e=t;if(!this.isCurrentPageControlled){this.internalCurrentPage=e}this.ksPageChange.emit(e);o(this.el,{eventType:"change",subEventType:"page",componentParams:{page:e}})};this.handlePageSizeChange=({detail:t})=>{const e=Number(t);if(!this.isPageSizeControlled){this.internalPageSize=e}const i=g(this.total,e);const a=Math.min(this.internalCurrentPage,i);if(!this.isCurrentPageControlled){this.internalCurrentPage=a}this.ksPageSizeChange.emit({page:a,pageSize:e});o(this.el,{eventType:"change",subEventType:"pageSize",componentParams:{page:a,pageSize:e}})};c(this.el)}componentWillLoad(){this.isCurrentPageControlled=this.page!==undefined;this.internalCurrentPage=this.isCurrentPageControlled?this.page:this.defaultPage;this.isPageSizeControlled=this.pageSize!==undefined;this.internalPageSize=this.isPageSizeControlled?this.pageSize:this.defaultPageSize}renderTotalArea(){if(!this.showTotal||this.size!=="md"){return null}return i("span",{class:`${k}__record`,part:"record"},this.renderTotal?.(this.total)||n(l.total,{total:this.total}))}renderPageSizeList(){const{pageSizeList:t,disabled:e,internalPageSize:a,size:s}=this;if(!t.length||s!=="md"){return null}const r=this.pageSizeList.map((t=>({type:"single",id:t,content:`${t}/${n(l.page)}`})));return i("ks-input-selector",{class:`${k}__select`,part:"select",size:"sm",width:"auto",clearable:false,disabled:e,value:a,dataSource:{type:"list",items:r},onKsChange:this.handlePageSizeChange,"data-testid":"ks-pagination-index-dx4Jv9"})}renderJumper(t){const{showJump:e,wrapNums:a,size:s}=this;if(s!=="md"||!e||t<=f(a)){return null}return i("ks-pagination-jumper",{class:`${k}__jumper`,onKsJump:this.handleJumperJump,"data-testid":"ks-pagination-ks-pagination-baTEqF"},n(l.go))}renderDropdownPagination(t){const{disabled:e,internalCurrentPage:a}=this;const s=Array.from({length:t},((t,e)=>({type:"single",id:e+1,content:`${e+1}`})));return i("ks-input-selector",{class:`${k}__select`,clearable:false,size:"md",disabled:e,value:a,dataSource:{type:"list",items:s},onKsChange:this.handlePaginationChange,"data-testid":"ks-pagination-ks-pagination-1tGBm2"})}render(){const{size:t,total:e,disabled:s,wrapNums:n,internalCurrentPage:o,internalPageSize:c}=this;const l=g(e,c);const d=o<=1||s;const p=o>=l||s;return i(a,{key:"53310e8e63a5778598c2b997c3108f3bbfc42d86",dir:r(),"ks-pagination":true},i("div",{key:"3d0c6e3d79db2e3f667bcae7ec903a84a8261539",dir:r(),class:`${k} ${k}--${t}`,part:"self"},this.renderTotalArea(),i("ks-button",{key:"2272c9b150c668ede3f323b7086d11ba4af6fcd6",part:"prev",size:"sm",shape:"square",variant:"text",disabled:d,onClick:this.handleChange(o-1),"data-testid":"ks-pagination-index-pEQrn1"},i("ks-icon-chevron-left",{key:"5966aca243e7188da6c05979e5af00811bc5ad0d",class:{[`${k}__button-icon`]:true,[`${k}__button-icon--disabled`]:d}})),t==="sm"&&i("div",{key:"dafb00ac31d88da9a3053627f68b3c0fc21aaf24",class:`${k}__item ${k}__item--simple`},i("span",{key:"8d3e13be36d60f13571f35ec0691e199e73126c2"},o),i("span",{key:"a6a5ab05b753f3bba7ab216fb2c2327eb6e7d167"},"/"),i("span",{key:"0de77a88067dfba08ae648b4cf84c8e874ae30ef"},l)),t==="md"&&u({wrapNums:n,totalPageCount:l,currentPage:o}).map((({value:t,label:e})=>i("ks-button",{key:`page-${e}`,class:{[`${k}__item`]:true,[`${k}__item--active`]:o===t},part:o===t?"page-active":"page",size:"sm",variant:"text",disabled:this.disabled,onClick:this.handleChange(t),"data-testid":`ks-pagination-index-gKfSFW-${`page-${e}`}`},e))),t==="dropdown"&&this.renderDropdownPagination(l),i("ks-button",{key:"ddfddf52b2d5d1a0dcc8262d0bcd353e5c2545dd",class:`${k}__button`,part:"next",size:"sm",shape:"square",variant:"text",disabled:p,onClick:this.handleChange(o+1),"data-testid":"ks-pagination-index-4C8Rxx"},i("ks-icon-chevron-right",{key:"a6d0bb7498381e6baae853f08dc23c5ce28327a7",class:{[`${k}__button-icon`]:true,[`${k}__button-icon--disabled`]:p}})),this.renderPageSizeList(),this.renderJumper(l)))}get el(){return s(this)}static get watchers(){return{page:["pageWatcher"],pageSize:["pageSizeWatcher"]}}};v.style=b;export{v as ks_pagination};