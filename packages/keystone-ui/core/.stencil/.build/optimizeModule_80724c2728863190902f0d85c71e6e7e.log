function t(t,i,s){const{get:n,set:e}=Object.getOwnPropertyDescriptor(t,i)||{};Object.defineProperty(t,i,{configurable:true,enumerable:true,get:n,set(t){s.call(this,t,e)}})}function i(i,s,n){return(e,h)=>{let f=false;const u=new WeakMap;const c=e.componentWillLoad;e.componentWillLoad=function(){c?.call(this);this.__didComponentWillLoad=true};const o=e.connectedCallback;e.connectedCallback=function(){u.set(this,true);const c=this[i]===undefined;this[h]=c?this[s]:this[i];u.set(this,false);if(f){o?.call(this);return}t(e,i,(function(t,n){u.set(this,true);const e=this[i];n?.call(this,t);if(t!==e){const i=t===undefined;if(i){this[h]=this[s]}else{this[h]=t}}u.set(this,false)}));t(e,s,(function(t,s){u.set(this,true);s?.call(this,t);const n=this[i]===undefined;if(n&&!this.__didComponentWillLoad){this[h]=t}u.set(this,false)}));t(e,h,(function(t,s){if(u.get(this)){s?.call(this,t);return}const e=this[h];const f=this[i];if(t!==e&&t!==f){this[n].emit(t)}const c=f===undefined;if(c){s?.call(this,t)}}));f=true;o?.call(this)}}}export{i as U};