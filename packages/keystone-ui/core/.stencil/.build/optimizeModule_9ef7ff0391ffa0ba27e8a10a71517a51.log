import{r as e,c as t,h as a,F as i,H as s,a as o}from"./p-BVbYP5UG.js";import{d as r}from"./p-O1A-ZSZs.js";import{S as n}from"./p-DtH7945i.js";import{d}from"./p-B9Bv72kO.js";import{c}from"./p-BLeWSNPN.js";import{V as l}from"./p-DTAuyNBn.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";import"./p-B85MJLTf.js";const p='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}.date-comparison-panel{width:fit-content;box-shadow:var(--ks-size__shadow-sm) var(--ks-color__shadow);border-radius:var(--ks-border-radius-md)}.date-comparison-panel .panel__header{border-bottom:1px solid var(--ks-color__divider-default);background-color:var(--ks-color-primary-onFill);display:flex;flex-direction:row;height:40px;box-sizing:border-box;align-items:center}.date-comparison-panel [ks-date-range-panel]::part(self){box-shadow:none}.date-comparison-panel .panel__header-left{flex:1;display:flex;box-sizing:border-box;flex-direction:row;column-gap:16px;line-height:initial;align-items:center;height:100%}.date-comparison-panel .header__date--divider{color:var(--ks-color-neutral-onSurface);font-size:var(--ks-size__font-md)}.date-comparison-panel .header__date--item{display:flex;align-items:center;box-sizing:border-box;font-size:var(--ks-size__font-md);color:var(--ks-color__font-default);padding:0 16px;cursor:pointer;height:100%}.date-comparison-panel .header__date--item.header__date--item-active{border-top:2px solid var(--ks-color__primary__font-active)}.date-comparison-panel .panel__header-right{display:flex;align-items:center;color:var(--ks-color__font-default);font-size:var(--ks-size__font-md);padding:0 16px;column-gap:8px}';var f=undefined&&undefined.__decorate||function(e,t,a,i){var s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,a):i,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,a,i);else for(var n=e.length-1;n>=0;n--)if(r=e[n])o=(s<3?r(o):s>3?r(t,a,o):r(t,a))||o;return s>3&&o&&Object.defineProperty(t,a,o),o};const h=class{constructor(a){e(this,a);this.ksChange=t(this,"ksChange",1);this["ks-name"]="ks-date-comparison-panel";this.hideComparisonSwitch=false;this.active="start"}get startDateRange(){const{source:e}=this.value||{};return e?.map?.((e=>typeof e==="string"?e:r.format(e,"yyyy-MM-dd")))?.join?.(" - ")}get endDateRange(){const{target:e}=this.value||{};return e?.map?.((e=>typeof e==="string"?e:r.format(e,"yyyy-MM-dd")))?.join?.(" - ")}get offset(){if(this.active==="start"){return this.sourceOffset||0}const{source:e}=this.value||{};const[t=new Date,a=new Date]=e||[];return this.targetOffset||r.differenceInDays(typeof a==="string"?new Date(a):a,typeof t==="string"?new Date(t):t)}valueChange(e){if(this.value){this.value={...this.value,...e}}else{this.value={...e}}this.ksChange.emit(this.value)}activeChange(e){this.active=e}render(){return a(s,{key:"9ea345a4fe66a98b9d913748800aff15631602ad",dir:d(),"ks-date-comparison-panel":true},a("div",{key:"1f855e69ca4f1ac6f380a392c8e94f8bd7d8cad2",dir:d(),part:"self",class:"date-comparison-panel"},a("div",{key:"1d1bfc6d8629f8bb1d60cd663f5b9f96936864e4",class:"panel__header",part:"header"},a("div",{key:"4db9bdbeb5af86bb2496fd21b5969919ac876415",class:"panel__header-left",part:"header-left"},a("div",{key:"950fa091fde9aa2c66cba31c8f4f41245c255587",onClick:()=>this.activeChange("start"),class:c("header__date--item",{["header__date--item-active"]:this.active==="start"}),"data-testid":"comparison-index-5iJj3o"},this.startDateRange?this.startDateRange:"date-comparison.placeholder"),this.value?.isCompare&&a(i,{key:"1b2ebc36636cec3ffae73a468abbbfcd20e9d7c1"},a("div",{key:"64dd5e6e90ecdd571da8ada248ec484b39068285",class:"header__date--divider"},"date-comparison.compare"),a("div",{key:"d61dde4f32cf03aa37b824244a0c325c7b9916f8",onClick:()=>this.activeChange("end"),class:c("header__date--item",{["header__date--item-active"]:this.active==="end"}),"data-testid":"comparison-index-gnWDmc"},this.endDateRange?this.endDateRange:"date-comparison.placeholder"))),!this.hideComparisonSwitch&&a("div",{key:"1dc53bd88266cae668271b65690f82d952330ca0",class:"panel__header-right",part:"header-right"},a("span",{key:"0c17390249d10527e50c0af1c858f437dbccaedc"},"date-comparison.compare"),a("ks-switch",{key:"b453b7dca4e5e9730d0aeb06942bcaea052429e0",checked:this.value?.isCompare,disabled:!this.startDateRange,onKsChange:e=>{const{detail:t}=e;const a={isCompare:t};if(!t){this.active="start";a.target=[]}this.valueChange(a)},"data-testid":"comparison-index-qhwsZJ"}))),a("div",{key:"831201fe3424475ca6bcacdc8ac82c3c06167bed",class:"panel__content"},a("ks-date-range-panel",{key:"4ec9157c8b3b135c6885b3818ac56f63a7bf14d8",offset:this.offset,onKsChange:e=>{const{detail:t}=e;if(this.active==="start"){this.valueChange({source:t,target:[]})}else{this.valueChange({target:t})}},value:this.active==="start"?this.value?.source:this.value?.target,"data-testid":"comparison-index-nqNcnT"},this.sourcePresets&&this.active==="start"&&a("slot",{key:"start",name:"source-preset",slot:"preset","data-testid":"comparison-index-5VjdcN"}),this.targetPresets&&this.active==="end"&&a("slot",{key:"end",name:"target-preset",slot:"preset","data-testid":"comparison-index-aosT7q"})))))}get el(){return o(this)}};f([n({slotname:"source-preset"})],h.prototype,"sourcePresets",void 0);f([n({slotname:"target-preset"})],h.prototype,"targetPresets",void 0);f([l()],h.prototype,"value",void 0);h.style=p;export{h as ks_date_comparison_panel};