import{l as t,r as e,c as i,h as n,H as o,a as s}from"./p-BVbYP5UG.js";import{d as a}from"./p-B9Bv72kO.js";import{P as r}from"./p-DXVWym72.js";import{S as d}from"./p-DtH7945i.js";import{r as l}from"./p-DOsoKeKK.js";import{N as c,a as f}from"./p-Bjn0j8Gt.js";import"@oddbird/popover-polyfill";import"./p-BpTTFEEs.js";import"./p-BKnx-nkd.js";import"./p-3aNLeb18.js";import"./p-D53F0nW8.js";const h=Symbol("root");class g{constructor(){this.tree=this.getTreeNode(h,null)}getTreeNode(t,e){return{id:t,parentId:e?e.id:null,children:[]}}traverseTree(t,e){const i=[t];while(i.length>0){const t=i.shift();if(e(t)){return t}if(t.children.length>0){i.push(...t.children)}}return null}getTree(){return this.tree}resetTree(){this.tree=this.getTreeNode(h,null)}findTreeNode(t){return this.traverseTree(this.tree,(e=>e.id===t))}addTreeNode(e,i=null){const n=i?this.findTreeNode(i):this.tree;if(!n){t.error(`Parent node with id ${String(i)} not found`);t.debug(`Current tree: ${JSON.stringify(this.tree)}`);throw new Error(`Parent node with id ${String(i)} not found`)}const o=this.getTreeNode(e,n);n.children.push(o);return o}hasDescendant(t,e){const i=this.findTreeNode(t);if(!i)return false;return this.traverseTree(i,(t=>t.id===e))!==null}}class p extends g{getTreeNode(t,e){return{id:t,parentId:e?e.id:null,level:e?e.level+1:-1,children:[]}}}const u='@charset "UTF-8";ul,li{list-style:none;margin:0;padding:0}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}button::-moz-focus-inner{border:0;padding:0}.ks-text-bodyMd{font-size:var(--ks-text-bodyMd-fontSize);line-height:var(--ks-text-bodyMd-lineHeight);font-weight:var(--ks-text-bodyMd-fontWeight);letter-spacing:var(--ks-text-bodyMd-letterSpacing);font-family:var(--ks-text-bodyMd-fontFamily)}@keyframes breathing-opacity{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}.ks-skeleton,.animate-pulse{background-color:var(--ks-color-neutral-surface3);border-radius:var(--ks-border-radius-sm);animation-name:breathing-opacity;animation-duration:2s;animation-timing-function:cubic-bezier(0.455, 0, 0.55, 1);animation-fill-mode:forwards;animation-iteration-count:infinite}.ks-card-section{margin-bottom:var(--ks-spacing-400);font-size:var(--ks-text-titleMd-fontSize);line-height:var(--ks-text-titleMd-lineHeight);font-weight:var(--ks-text-titleMd-fontWeight);letter-spacing:var(--ks-text-titleMd-letterSpacing);font-family:var(--ks-text-titleMd-fontFamily)}*,:host{box-sizing:border-box}:host{width:100%;height:100%;display:block}.side-navigation{user-select:none;width:100%;height:100%;row-gap:var(--ks-spacing-200);padding:var(--ks-spacing-400) var(--ks-spacing-200);display:flex;flex-direction:column}.side-navigation-title{padding:var(--ks-spacing-200);color:var(--ks-color-neutral-highOnSurface);font-size:var(--ks-text-titleLg-fontSize);line-height:var(--ks-text-titleLg-lineHeight);font-weight:var(--ks-text-titleLg-fontWeight);letter-spacing:var(--ks-text-titleLg-letterSpacing);font-family:var(--ks-text-titleLg-fontFamily)}.side-navigation-title--hide{display:none}.side-navigation-content{flex:1;display:flex;overflow:hidden auto;flex-direction:column;row-gap:var(--ks-spacing-100)}';var m=undefined&&undefined.__decorate||function(t,e,i,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)if(a=t[r])s=(o<3?a(s):o>3?a(e,i,s):a(e,i))||s;return o>3&&s&&Object.defineProperty(e,i,s),s};const v="side-navigation";const b=class{activeWatcher(t){if(this.isControlled&&t!==undefined){this.sharedActiveIndex=t}}setActiveIndex(t){t.stopPropagation();if(!this.isControlled){this.sharedActiveIndex=t.detail}this.ksSelect.emit(t.detail)}constructor(t){e(this,t);this.ksSelect=i(this,"ksSelect",7);this.isControlled=false;this.sharedTree=new p;this.sharedActiveIndex="";this.defaultActive="";this.showTitle=true;l(this.el)}componentWillLoad(){this.isControlled=this.active!==undefined;this.sharedActiveIndex=this.isControlled?this.active:this.defaultActive}componentDidLoad(){t.debug(`KsSideNavigation componentDidLoad, the tree is: ${JSON.stringify(this.sharedTree.getTree())}`)}render(){const{showTitle:t,title:e,titleSlots:i}=this;return n(o,{key:"304c501c2b552d9d79857480c6b8ec181c9b0b19",dir:a(),"ks-side-navigation":true},n("div",{key:"ae2a81e89fedd5426dcb577e9ef7a6a5ff0f85d6",class:v},(e||i)&&n("div",{key:"17716d48ed1f4e34d9f10cbf2cedff14cf264c72",class:{[`${v}-title`]:true,[`${v}-title--hide`]:!t}},n("slot",{key:"2e7bc6153498b59625fb2fb8d83308e1148f9ad0",name:"title"},e)),n("slot",{key:"76d7093126653b4a3aa7f42dfcb76f713f4517f1",name:"banner"}),n("div",{key:"e64a0f154086871b670f027ae19d57478772fa3f",class:`${v}-content`},n("slot",{key:"244d3b88a9df17b39902b01030884b21f3199129"})),n("slot",{key:"c85fd43032858a24c4936ffdcca9970da8186848",name:"footer"})))}get el(){return s(this)}static get watchers(){return{active:["activeWatcher"]}}};m([r({context:c})],b.prototype,"sharedTree",void 0);m([r({context:f})],b.prototype,"sharedActiveIndex",void 0);m([d({slotname:"title"})],b.prototype,"titleSlots",void 0);m([d({slotname:"_default",filter:t=>t.hasAttribute("ks-sub-menu")||t.hasAttribute("ks-menu-item")})],b.prototype,"defaultSlots",void 0);b.style=u;export{b as ks_side_navigation};